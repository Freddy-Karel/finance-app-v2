"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_action-browser_src_server_actions_settings_ts";
exports.ids = ["_action-browser_src_server_actions_settings_ts"];
exports.modules = {

/***/ "(action-browser)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentRole: () => (/* binding */ getCurrentRole),\n/* harmony export */   requireRole: () => (/* binding */ requireRole)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(action-browser)/./node_modules/.pnpm/@clerk+nextjs@5.3.1_next@15_20ea36d09dc70bbbcc56b8a0d9ae486b/node_modules/@clerk/nextjs/dist/esm/app-router/server/auth.js\");\n\nasync function getCurrentRole() {\n    if (process.env.E2E_ROLE === \"operator\" || process.env.E2E_ROLE === \"manager\" || process.env.E2E_ROLE === \"auditor\") return process.env.E2E_ROLE;\n    const { userId, sessionClaims } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.auth)();\n    if (!userId) throw new Error(\"Unauthenticated\");\n    return sessionClaims?.role ?? \"operator\";\n}\nasync function requireRole(allowed) {\n    const role = await getCurrentRole();\n    if (!allowed.includes(role)) throw new Error(\"Forbidden\");\n    return role;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEM7QUFFckMsZUFBZUM7SUFDcEIsSUFBSUMsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssY0FBY0YsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssYUFBYUYsUUFBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUssV0FBVyxPQUFPRixRQUFRQyxHQUFHLENBQUNDLFFBQVE7SUFDaEosTUFBTSxFQUFFQyxNQUFNLEVBQUVDLGFBQWEsRUFBRSxHQUFHTiwwREFBSUE7SUFBSSxJQUFJLENBQUNLLFFBQVEsTUFBTSxJQUFJRSxNQUFNO0lBQ3ZFLE9BQU8sZUFBZ0JDLFFBQTZCO0FBQ3REO0FBQ08sZUFBZUMsWUFBWUMsT0FBZTtJQUFJLE1BQU1GLE9BQU8sTUFBTVA7SUFBa0IsSUFBSSxDQUFDUyxRQUFRQyxRQUFRLENBQUNILE9BQU8sTUFBTSxJQUFJRCxNQUFNO0lBQWMsT0FBT0M7QUFBTSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCQzI0MVxcTXVzaWNcXGZpbmFuY2UtYXBwLXYxLW1haW5cXGZpbmFuY2UtYXBwLXYxLW1haW5cXHNyY1xcbGliXFxhdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1dGggfSBmcm9tIFwiQGNsZXJrL25leHRqcy9zZXJ2ZXJcIjtcbmV4cG9ydCB0eXBlIFJvbGUgPSBcIm9wZXJhdG9yXCIgfCBcIm1hbmFnZXJcIiB8IFwiYXVkaXRvclwiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRSb2xlKCk6IFByb21pc2U8Um9sZT4ge1xuICBpZiAocHJvY2Vzcy5lbnYuRTJFX1JPTEUgPT09IFwib3BlcmF0b3JcIiB8fCBwcm9jZXNzLmVudi5FMkVfUk9MRSA9PT0gXCJtYW5hZ2VyXCIgfHwgcHJvY2Vzcy5lbnYuRTJFX1JPTEUgPT09IFwiYXVkaXRvclwiKSByZXR1cm4gcHJvY2Vzcy5lbnYuRTJFX1JPTEUgYXMgUm9sZTtcbiAgY29uc3QgeyB1c2VySWQsIHNlc3Npb25DbGFpbXMgfSA9IGF1dGgoKTsgaWYgKCF1c2VySWQpIHRocm93IG5ldyBFcnJvcihcIlVuYXV0aGVudGljYXRlZFwiKTtcbiAgcmV0dXJuIChzZXNzaW9uQ2xhaW1zPy5yb2xlIGFzIFJvbGUgfCB1bmRlZmluZWQpID8/IFwib3BlcmF0b3JcIjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlUm9sZShhbGxvd2VkOiBSb2xlW10pIHsgY29uc3Qgcm9sZSA9IGF3YWl0IGdldEN1cnJlbnRSb2xlKCk7IGlmICghYWxsb3dlZC5pbmNsdWRlcyhyb2xlKSkgdGhyb3cgbmV3IEVycm9yKFwiRm9yYmlkZGVuXCIpOyByZXR1cm4gcm9sZTsgfVxuIl0sIm5hbWVzIjpbImF1dGgiLCJnZXRDdXJyZW50Um9sZSIsInByb2Nlc3MiLCJlbnYiLCJFMkVfUk9MRSIsInVzZXJJZCIsInNlc3Npb25DbGFpbXMiLCJFcnJvciIsInJvbGUiLCJyZXF1aXJlUm9sZSIsImFsbG93ZWQiLCJpbmNsdWRlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(action-browser)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.__prisma ??= new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) global.__prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQVN2QyxNQUFNQyxTQUFVQyxPQUFPQyxRQUFRLEtBQUssSUFBSUgsd0RBQVlBLEdBQUk7QUFDL0QsSUFBSUksSUFBcUMsRUFBRUYsT0FBT0MsUUFBUSxHQUFHRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCQzI0MVxcTXVzaWNcXGZpbmFuY2UtYXBwLXYxLW1haW5cXGZpbmFuY2UtYXBwLXYxLW1haW5cXHNyY1xcbGliXFxwcmlzbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG4vLyBFbnN1cmUgYSBzaW5nbGUgUHJpc21hQ2xpZW50IGluc3RhbmNlIGluIGRldmVsb3BtZW50IHRvIGF2b2lkIGV4aGF1c3Rpbmdcbi8vIGRhdGFiYXNlIGNvbm5lY3Rpb25zIGR1cmluZyBITVIgKHNlZSBQcmlzbWEgZG9jcykuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIF9fcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSAoZ2xvYmFsLl9fcHJpc21hID8/PSBuZXcgUHJpc21hQ2xpZW50KCkpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbC5fX3ByaXNtYSA9IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJnbG9iYWwiLCJfX3ByaXNtYSIsInByb2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(action-browser)/./src/server/actions/settings.ts":
/*!****************************************!*\
  !*** ./src/server/actions/settings.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applySuggestedPercents: () => (/* binding */ applySuggestedPercents),\n/* harmony export */   createLowCoverageAnomalies: () => (/* binding */ createLowCoverageAnomalies),\n/* harmony export */   deleteEnvelope: () => (/* binding */ deleteEnvelope),\n/* harmony export */   deleteRecurringCharge: () => (/* binding */ deleteRecurringCharge),\n/* harmony export */   deleteService: () => (/* binding */ deleteService),\n/* harmony export */   forceDeleteEnvelope: () => (/* binding */ forceDeleteEnvelope),\n/* harmony export */   getActiveRule: () => (/* binding */ getActiveRule),\n/* harmony export */   getOnboardingRevenue: () => (/* binding */ getOnboardingRevenue),\n/* harmony export */   listEnvelopes: () => (/* binding */ listEnvelopes),\n/* harmony export */   listRecurringCharges: () => (/* binding */ listRecurringCharges),\n/* harmony export */   listRulesHistory: () => (/* binding */ listRulesHistory),\n/* harmony export */   listServices: () => (/* binding */ listServices),\n/* harmony export */   logEnvelopeRestore: () => (/* binding */ logEnvelopeRestore),\n/* harmony export */   proposePercentAdjustments: () => (/* binding */ proposePercentAdjustments),\n/* harmony export */   recommendPercentages: () => (/* binding */ recommendPercentages),\n/* harmony export */   setOnboardingRevenue: () => (/* binding */ setOnboardingRevenue),\n/* harmony export */   toggleEnvelopeActive: () => (/* binding */ toggleEnvelopeActive),\n/* harmony export */   toggleEnvelopeProtected: () => (/* binding */ toggleEnvelopeProtected),\n/* harmony export */   toggleService: () => (/* binding */ toggleService),\n/* harmony export */   updateDistributionRule: () => (/* binding */ updateDistributionRule),\n/* harmony export */   upsertEnvelope: () => (/* binding */ upsertEnvelope),\n/* harmony export */   upsertRecurringCharge: () => (/* binding */ upsertRecurringCharge),\n/* harmony export */   upsertService: () => (/* binding */ upsertService)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(action-browser)/./node_modules/.pnpm/next@15.0.3_@playwright+tes_c0fbebec67a33fb30e42c14d3a81a9d2/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(action-browser)/./node_modules/.pnpm/next@15.0.3_@playwright+tes_c0fbebec67a33fb30e42c14d3a81a9d2/node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(action-browser)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth */ \"(action-browser)/./src/lib/auth.ts\");\n/* harmony import */ var _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/server/validators/settings */ \"(action-browser)/./src/server/validators/settings.ts\");\n/* harmony import */ var _server_queries_rules__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/server/queries/rules */ \"(action-browser)/./src/server/queries/rules.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/.pnpm/next@15.0.3_@playwright+tes_c0fbebec67a33fb30e42c14d3a81a9d2/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"0021db5e53f057fa5285fa61eb122de43521309a70\":\"listRecurringCharges\",\"00285d3e0fe2f3fd7ab1d76d45ae92a6d3af321ecf\":\"getActiveRule\",\"002a6e7f1b779daf1f44ed72138eddd7254418b6bb\":\"listServices\",\"0051a19091a951a216b51904d9c3dab2f2f5021b8b\":\"listEnvelopes\",\"006721f8d912c966639902061586cc61825869bf2c\":\"listRulesHistory\",\"00f376cccb2a45215a6478116fa0a238715c4d5bcd\":\"getOnboardingRevenue\",\"400a33b648a9c28d07e3153e6187e93dcf9ba143ab\":\"updateDistributionRule\",\"4012db82894eccc38b6fc7e848d79057c94cfd3c51\":\"proposePercentAdjustments\",\"4012f0df1643422bd2fd4f82c4ed7c55da586130ed\":\"toggleEnvelopeProtected\",\"4015e187aae7a6cc42b510689ea88ce6035e11d219\":\"createLowCoverageAnomalies\",\"4024693c7cb7e134207a2bcc5dda918de101c39cc4\":\"deleteEnvelope\",\"403aca15f825a1022e7919cbdbc0e6327efc899328\":\"upsertRecurringCharge\",\"403b6aa430d6c10007353a86511d49dbd174081b36\":\"setOnboardingRevenue\",\"404da9fd7b11c98c9b5f5fe984ceebdca662c78b42\":\"upsertService\",\"404f9cac372e10b8da7ab462c63703f1a7b248158b\":\"upsertEnvelope\",\"405ec2c0a22e6c6f3c16a4906fd7159e21bf081bcb\":\"applySuggestedPercents\",\"4075baccfd005f5ddbc79d01dad8a9d59d7d7a0462\":\"deleteRecurringCharge\",\"40767e5c0b3a8b515556cbc71a67070cc0b0d73de5\":\"toggleEnvelopeActive\",\"407ac3a73921f286404dbcc54888f2d48443d48d0a\":\"logEnvelopeRestore\",\"408263642f207856aa00b6435ede4afeded0887eef\":\"deleteService\",\"40864a4bccf995a6dd2c955d0e53d980212955503e\":\"recommendPercentages\",\"40cd38c72f2311e888e4f0d0be6ea2d20747e63ad4\":\"forceDeleteEnvelope\",\"40f044e85fba3443810d1fd684ed4cc2f23394658b\":\"toggleService\"} */ \n\n\n\n\n\nasync function updateDistributionRule(items) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const parsed = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.UpdateDistributionRuleSchema.safeParse({\n        items\n    });\n    if (!parsed.success) throw new Error(parsed.error.errors.map((e)=>e.message).join(\"; \"));\n    const ids = parsed.data.items.map((i)=>i.envelopeId);\n    const envs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findMany({\n        where: {\n            id: {\n                in: ids\n            }\n        }\n    });\n    if (envs.length !== ids.length) throw new Error(\"Certaines enveloppes n'existent pas\");\n    if (envs.some((e)=>!e.active)) throw new Error(\"Certaines enveloppes sont inactives\");\n    const now = new Date();\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRule.updateMany({\n        where: {\n            startsAt: {\n                lte: now\n            },\n            OR: [\n                {\n                    endsAt: null\n                },\n                {\n                    endsAt: {\n                        gt: now\n                    }\n                }\n            ]\n        },\n        data: {\n            endsAt: now\n        }\n    });\n    const rule = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRule.create({\n        data: {\n            startsAt: now\n        }\n    });\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRuleItem.createMany({\n        data: parsed.data.items.map((i)=>({\n                ruleId: rule.id,\n                envelopeId: i.envelopeId,\n                percent: i.percent\n            }))\n    });\n    return {\n        ruleId: rule.id\n    };\n}\nasync function listEnvelopes() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findMany({\n        orderBy: {\n            createdAt: \"asc\"\n        }\n    });\n}\nasync function listRecurringCharges() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.recurringCharge.findMany({\n        orderBy: {\n            createdAt: \"asc\"\n        }\n    });\n}\nasync function upsertRecurringCharge(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = input;\n    const data = {\n        name: p.name,\n        amount: p.amount,\n        frequency: p.frequency ?? 'monthly',\n        envelopeId: p.envelopeId ?? null\n    };\n    if (p.id) return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.recurringCharge.update({\n        where: {\n            id: p.id\n        },\n        data\n    });\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.recurringCharge.create({\n        data\n    });\n}\nasync function deleteRecurringCharge(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const { id } = input;\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.recurringCharge.delete({\n        where: {\n            id\n        }\n    });\n}\nasync function listServices() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.findMany({\n        orderBy: {\n            createdAt: \"asc\"\n        }\n    });\n}\nasync function getActiveRule() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    const r = await (0,_server_queries_rules__WEBPACK_IMPORTED_MODULE_5__.getActiveDistributionRule)();\n    if (!r) return null;\n    return {\n        id: r.id,\n        startsAt: r.startsAt,\n        endsAt: r.endsAt ?? null,\n        items: r.items.map((i)=>({\n                envelopeId: i.envelopeId,\n                percent: i.percent,\n                envelopeName: i.envelope.name\n            }))\n    };\n}\nasync function listRulesHistory() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    const rs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRule.findMany({\n        include: {\n            items: {\n                include: {\n                    envelope: true\n                }\n            }\n        },\n        orderBy: {\n            startsAt: \"desc\"\n        }\n    });\n    return rs.map((r)=>({\n            id: r.id,\n            startsAt: r.startsAt,\n            endsAt: r.endsAt ?? null,\n            items: r.items.map((i)=>({\n                    envelopeId: i.envelopeId,\n                    percent: i.percent,\n                    envelopeName: i.envelope.name\n                }))\n        }));\n}\nasync function upsertEnvelope(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.UpsertEnvelopeSchema.safeParse(input);\n    if (!p.success) throw new Error(p.error.errors.map((e)=>e.message).join(\"; \"));\n    const data = {\n        name: p.data.name,\n        emoji: p.data.emoji ?? null,\n        protected: p.data.protected ?? false,\n        active: p.data.active ?? true\n    };\n    data.budgetTarget = p.data.budgetTarget ?? null;\n    if (p.data.id) return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n        where: {\n            id: p.data.id\n        },\n        data\n    });\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.create({\n        data\n    });\n}\nasync function toggleEnvelopeActive(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.ToggleEnvelopeActiveSchema.safeParse(input);\n    if (!p.success) throw new Error(p.error.errors.map((e)=>e.message).join(\"; \"));\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n        where: {\n            id: p.data.id\n        },\n        data: {\n            active: p.data.active\n        }\n    });\n}\nasync function toggleEnvelopeProtected(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.ToggleEnvelopeProtectedSchema.safeParse(input);\n    if (!p.success) throw new Error(p.error.errors.map((e)=>e.message).join(\"; \"));\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n        where: {\n            id: p.data.id\n        },\n        data: {\n            protected: p.data.protected\n        }\n    });\n}\nasync function upsertService(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.UpsertServiceSchema.safeParse(input);\n    if (!p.success) throw new Error(p.error.errors.map((e)=>e.message).join(\"; \"));\n    const data = {\n        name: p.data.name,\n        active: p.data.active ?? true\n    };\n    if (p.data.id) return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.update({\n        where: {\n            id: p.data.id\n        },\n        data\n    });\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.create({\n        data\n    });\n}\nasync function toggleService(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const p = _server_validators_settings__WEBPACK_IMPORTED_MODULE_4__.ToggleServiceSchema.safeParse(input);\n    if (!p.success) throw new Error(p.error.errors.map((e)=>e.message).join(\"; \"));\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.update({\n        where: {\n            id: p.data.id\n        },\n        data: {\n            active: p.data.active\n        }\n    });\n}\nasync function deleteService(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const { id } = input;\n    const exists = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!exists) throw new Error('Service introuvable');\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.service.delete({\n        where: {\n            id\n        }\n    });\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.auditLog.create({\n        data: {\n            action: 'service.delete',\n            metaJson: JSON.stringify({\n                id,\n                name: exists.name\n            })\n        }\n    });\n    return {\n        ok: true\n    };\n}\n// ChargeType CRUD supprim√© ‚Äî plus de mod√®le s√©par√© pour les types\nasync function deleteEnvelope(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const { id } = input;\n    // Interdire suppression si des allocations existent\n    const allocCount = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.transactionAllocation.count({\n        where: {\n            envelopeId: id\n        }\n    });\n    const ruleRefCount = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRuleItem.count({\n        where: {\n            envelopeId: id\n        }\n    });\n    // Best practice: do NOT force-delete envelopes that have historical allocations or are referenced by rules.\n    // Instead, disable the envelope so data integrity is preserved while removing it from active use.\n    if (allocCount > 0 || ruleRefCount > 0) {\n        // Mark as inactive (soft-delete) and return an informative result for the caller\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n            where: {\n                id\n            },\n            data: {\n                active: false\n            }\n        });\n        return {\n            ok: false,\n            deactivated: true,\n            message: \"Enveloppe d√©sactiv√©e car li√©e √† des allocations ou √† une r√®gle (pr√©servation historique).\"\n        };\n    }\n    // If no historical links, allow real deletion\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.delete({\n        where: {\n            id\n        }\n    });\n    return {\n        ok: true,\n        deleted: true\n    };\n}\nasync function forceDeleteEnvelope(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const { id } = input;\n    const exists = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!exists) throw new Error(\"Enveloppe introuvable\");\n    // Delete allocations and any distribution rule items referencing it\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.transactionAllocation.deleteMany({\n        where: {\n            envelopeId: id\n        }\n    });\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.distributionRuleItem.deleteMany({\n        where: {\n            envelopeId: id\n        }\n    });\n    // Delete the envelope itself\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.delete({\n        where: {\n            id\n        }\n    });\n    // Log an anomaly to record the destructive action\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.anomaly.create({\n        data: {\n            level: 'info',\n            code: 'ENVELOPE_FORCE_DELETED',\n            details: `Envelope ${exists.name} (${id}) permanently deleted by manager`\n        }\n    });\n    return {\n        ok: true,\n        deleted: true\n    };\n}\n// Calcule des pourcentages recommand√©s √† partir d'un revenu total (preview only)\nasync function recommendPercentages(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const amount = Number(input.amount || 0);\n    if (!Number.isFinite(amount) || amount <= 0) throw new Error(\"Montant de revenu invalide\");\n    const imprevusPct = typeof input.imprevusPercent === 'number' ? Number(input.imprevusPercent) : 10;\n    // Ensure an 'Impr√©vus' envelope exists before computations\n    await ensureImprevusEnvelope();\n    const envs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findMany({\n        where: {\n            active: true\n        }\n    });\n    // include recurring charges (normalized to monthly) to be considered as blocked-like obligations\n    const recs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.recurringCharge.findMany({\n        where: {\n            envelopeId: {\n                in: envs.map((e)=>e.id)\n            }\n        }\n    });\n    const recMap = new Map();\n    recs.forEach((r)=>{\n        let monthly = Number(r.amount || 0);\n        if (r.frequency === 'weekly') monthly = Math.round(monthly * 4.345); // weeks to month\n        if (r.frequency === 'yearly') monthly = Math.round(monthly / 12);\n        if (r.envelopeId) recMap.set(r.envelopeId, (recMap.get(r.envelopeId) || 0) + monthly);\n    });\n    // identify imprevus envelope\n    const imprevus = envs.find((e)=>(e.name || '').toLowerCase().includes('imprev') || (e.name || '').toLowerCase().includes('impr√©vu'));\n    const totalRevenue = amount;\n    let allocated = 0;\n    const results = [];\n    // allocate imprevus first\n    if (imprevus) {\n        const imprevusAmount = Math.round(totalRevenue * (imprevusPct / 100));\n        allocated += imprevusAmount;\n        results.push({\n            envelopeId: imprevus.id,\n            name: imprevus.name,\n            amount: imprevusAmount,\n            percent: +(100 * imprevusAmount / totalRevenue).toFixed(2)\n        });\n    }\n    // blocked envelopes: those marked protected or classified as 'blocked'\n    const blocked = envs.filter((e)=>e.protected === true || e.classification === 'blocked').filter((e)=>!imprevus || e.id !== imprevus.id);\n    // allocate budgetTargets for blocked if present\n    for (const b of blocked){\n        const budgetAmt = b.budgetTarget ? Number(b.budgetTarget) : 0;\n        const recAmt = recMap.get(b.id) ?? 0;\n        const amt = budgetAmt + recAmt;\n        allocated += amt;\n        results.push({\n            envelopeId: b.id,\n            name: b.name,\n            amount: amt,\n            percent: +(100 * amt / totalRevenue).toFixed(2)\n        });\n    }\n    // remaining for flex envelopes\n    const flex = envs.filter((e)=>!(e.protected === true || e.classification === 'blocked')).filter((e)=>!imprevus || e.id !== imprevus.id);\n    const remaining = Math.max(0, totalRevenue - allocated);\n    // weights: budgetTarget if present else 1\n    const weights = flex.map((f)=>f.budgetTarget ? Number(f.budgetTarget) : 1);\n    const weightSum = weights.reduce((s, w)=>s + w, 0) || 1;\n    flex.forEach((f, idx)=>{\n        const amt = Math.round(remaining * (weights[idx] / weightSum));\n        results.push({\n            envelopeId: f.id,\n            name: f.name,\n            amount: amt,\n            percent: +(100 * amt / totalRevenue).toFixed(2)\n        });\n    });\n    // normalize rounding differences: ensure sum of amounts equals totalRevenue\n    const sumAllocated = results.reduce((s, r)=>s + Number(r.amount || 0), 0);\n    const diff = totalRevenue - sumAllocated;\n    if (diff !== 0 && results.length) {\n        results[0].amount = Number(results[0].amount) + diff;\n        results[0].percent = +(100 * results[0].amount / totalRevenue).toFixed(2);\n    }\n    return results;\n}\n// Applique les pourcentages recommand√©s (met √† jour Envelope.defaultPercent)\nasync function setOnboardingRevenue(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const rec = await recommendPercentages({\n        amount: input.amount,\n        imprevusPercent: input.imprevusPercent\n    });\n    // persist defaultPercent per envelope\n    const tx = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.$transaction(rec.map((r)=>_lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n            where: {\n                id: r.envelopeId\n            },\n            data: {\n                defaultPercent: Number(Number(r.percent).toFixed(2))\n            }\n        })));\n    // audit log\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.auditLog.create({\n        data: {\n            action: 'setOnboardingRevenue',\n            metaJson: JSON.stringify({\n                amount: input.amount,\n                user: input.user ?? null,\n                applied: rec.length\n            })\n        }\n    });\n    return {\n        ok: true,\n        applied: rec.length,\n        recommendations: rec\n    };\n}\n// Analyse historique et propose des ajustements de pourcentages par enveloppe\nasync function proposePercentAdjustments(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const months = input?.months ?? 3;\n    const now = new Date();\n    const since = new Date(now.getFullYear(), now.getMonth() - months, now.getDate());\n    const envs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findMany({\n        where: {\n            active: true\n        },\n        select: {\n            id: true,\n            name: true,\n            defaultPercent: true,\n            protected: true\n        }\n    });\n    const ids = envs.map((e)=>e.id);\n    if (ids.length === 0) return [];\n    const outs = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.transactionAllocation.groupBy({\n        by: [\n            'envelopeId'\n        ],\n        where: {\n            envelopeId: {\n                in: ids\n            },\n            transaction: {\n                kind: 'OUT',\n                at: {\n                    gte: since\n                }\n            }\n        },\n        _sum: {\n            amount: true\n        }\n    });\n    const totalOut = outs.reduce((s, o)=>s + (o._sum.amount ?? 0), 0);\n    const outMap = new Map(outs.map((o)=>[\n            o.envelopeId,\n            o._sum.amount ?? 0\n        ]));\n    const recommendations = envs.map((e)=>{\n        const outVal = outMap.get(e.id) ?? 0;\n        const observedPct = totalOut > 0 ? outVal / totalOut * 100 : 0;\n        // If envelope is protected, ensure suggested is at least current default\n        const suggested = e.protected ? Math.max(e.defaultPercent ?? 0, Number(observedPct.toFixed(2))) : Number(observedPct.toFixed(2));\n        return {\n            envelopeId: e.id,\n            name: e.name,\n            observedPercent: Number(observedPct.toFixed(2)),\n            suggestedPercent: Number(suggested.toFixed(2)),\n            currentDefault: e.defaultPercent ?? null\n        };\n    }).sort((a, b)=>b.suggestedPercent - a.suggestedPercent);\n    return {\n        months,\n        totalOut,\n        recommendations\n    };\n}\nasync function applySuggestedPercents(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const tx = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.$transaction(input.items.map((it)=>_lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.update({\n            where: {\n                id: it.envelopeId\n            },\n            data: {\n                defaultPercent: Number(Number(it.percent).toFixed(2))\n            }\n        })));\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.auditLog.create({\n        data: {\n            action: 'applySuggestedPercents',\n            metaJson: JSON.stringify({\n                count: input.items.length,\n                user: input.user ?? null\n            })\n        }\n    });\n    return {\n        ok: true,\n        applied: input.items.length\n    };\n}\n// Cr√©e des anomalies pour les enveloppes dont la couverture (mois) est inf√©rieure au seuil\nasync function createLowCoverageAnomalies(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\",\n        \"operator\"\n    ]);\n    const threshold = input?.thresholdMonths ?? 2;\n    // reuse coverage helper\n    const { getEnvelopeCoverageAll } = await __webpack_require__.e(/*! import() */ \"_action-browser_src_server_queries_envelopes_ts-_4d091\").then(__webpack_require__.bind(__webpack_require__, /*! @/server/queries/envelopes */ \"(action-browser)/./src/server/queries/envelopes.ts\"));\n    const covs = await getEnvelopeCoverageAll({\n        daysWindow: 90\n    });\n    const low = covs.filter((c)=>c.monthsCoverage !== Infinity && c.monthsCoverage < threshold);\n    let created = 0;\n    for (const c of low){\n        // avoid duplicate open anomaly with same code\n        const existing = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.anomaly.findFirst({\n            where: {\n                code: 'LOW_COVERAGE',\n                details: {\n                    contains: c.envelopeId\n                },\n                resolvedAt: null\n            }\n        });\n        if (existing) continue;\n        // create anomaly + audit log (Slack notifications removed)\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.anomaly.create({\n            data: {\n                level: 'warning',\n                code: 'LOW_COVERAGE',\n                details: `Enveloppe ${c.name} (${c.envelopeId}) couverture faible: ${c.monthsCoverage} mois`\n            }\n        });\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.auditLog.create({\n            data: {\n                action: 'anomaly.create',\n                metaJson: JSON.stringify({\n                    envelopeId: c.envelopeId,\n                    name: c.name,\n                    monthsCoverage: c.monthsCoverage\n                })\n            }\n        });\n        created++;\n    }\n    return {\n        ok: true,\n        created\n    };\n}\nasync function logEnvelopeRestore(input) {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"manager\"\n    ]);\n    const { id, user } = input;\n    const env = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findUnique({\n        where: {\n            id\n        }\n    });\n    if (!env) throw new Error(\"Enveloppe introuvable\");\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.anomaly.create({\n        data: {\n            level: 'info',\n            code: 'ENVELOPE_RESTORED',\n            details: `Envelope ${env.name} (${id}) restored by ${user ?? 'unknown'}`\n        }\n    });\n    return {\n        ok: true\n    };\n}\nasync function getOnboardingRevenue() {\n    await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_3__.requireRole)([\n        \"operator\",\n        \"manager\",\n        \"auditor\"\n    ]);\n    // read last auditLog entry for setOnboardingRevenue\n    const row = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.auditLog.findFirst({\n        where: {\n            action: 'setOnboardingRevenue'\n        },\n        orderBy: {\n            createdAt: 'desc'\n        }\n    });\n    if (!row) return {\n        amount: null\n    };\n    try {\n        const meta = JSON.parse(row.metaJson || '{}');\n        return {\n            amount: Number(meta.amount) || null,\n            applied: meta.applied || 0,\n            user: meta.user ?? null,\n            at: row.createdAt\n        };\n    } catch (e) {\n        return {\n            amount: null\n        };\n    }\n}\nasync function ensureImprevusEnvelope() {\n    const nameCandidates = [\n        'imprevus',\n        'impr√©vu',\n        'imprevu',\n        'buffer',\n        'reserve'\n    ];\n    // SQLite does not support `mode: 'insensitive'` in contains; fallback to simple contains\n    const existing = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.findFirst({\n        where: {\n            OR: nameCandidates.map((n)=>({\n                    name: {\n                        contains: n\n                    }\n                }))\n        }\n    });\n    if (existing) return existing;\n    return await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.envelope.create({\n        data: {\n            name: 'Impr√©vus',\n            emoji: 'üß∞',\n            protected: false,\n            active: true,\n            budgetTarget: null\n        }\n    });\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__.ensureServerEntryExports)([\n    updateDistributionRule,\n    listEnvelopes,\n    listRecurringCharges,\n    upsertRecurringCharge,\n    deleteRecurringCharge,\n    listServices,\n    getActiveRule,\n    listRulesHistory,\n    upsertEnvelope,\n    toggleEnvelopeActive,\n    toggleEnvelopeProtected,\n    upsertService,\n    toggleService,\n    deleteService,\n    deleteEnvelope,\n    forceDeleteEnvelope,\n    recommendPercentages,\n    setOnboardingRevenue,\n    proposePercentAdjustments,\n    applySuggestedPercents,\n    createLowCoverageAnomalies,\n    logEnvelopeRestore,\n    getOnboardingRevenue\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(updateDistributionRule, \"400a33b648a9c28d07e3153e6187e93dcf9ba143ab\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(listEnvelopes, \"0051a19091a951a216b51904d9c3dab2f2f5021b8b\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(listRecurringCharges, \"0021db5e53f057fa5285fa61eb122de43521309a70\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(upsertRecurringCharge, \"403aca15f825a1022e7919cbdbc0e6327efc899328\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(deleteRecurringCharge, \"4075baccfd005f5ddbc79d01dad8a9d59d7d7a0462\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(listServices, \"002a6e7f1b779daf1f44ed72138eddd7254418b6bb\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(getActiveRule, \"00285d3e0fe2f3fd7ab1d76d45ae92a6d3af321ecf\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(listRulesHistory, \"006721f8d912c966639902061586cc61825869bf2c\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(upsertEnvelope, \"404f9cac372e10b8da7ab462c63703f1a7b248158b\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(toggleEnvelopeActive, \"40767e5c0b3a8b515556cbc71a67070cc0b0d73de5\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(toggleEnvelopeProtected, \"4012f0df1643422bd2fd4f82c4ed7c55da586130ed\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(upsertService, \"404da9fd7b11c98c9b5f5fe984ceebdca662c78b42\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(toggleService, \"40f044e85fba3443810d1fd684ed4cc2f23394658b\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(deleteService, \"408263642f207856aa00b6435ede4afeded0887eef\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(deleteEnvelope, \"4024693c7cb7e134207a2bcc5dda918de101c39cc4\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(forceDeleteEnvelope, \"40cd38c72f2311e888e4f0d0be6ea2d20747e63ad4\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(recommendPercentages, \"40864a4bccf995a6dd2c955d0e53d980212955503e\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(setOnboardingRevenue, \"403b6aa430d6c10007353a86511d49dbd174081b36\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(proposePercentAdjustments, \"4012db82894eccc38b6fc7e848d79057c94cfd3c51\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(applySuggestedPercents, \"405ec2c0a22e6c6f3c16a4906fd7159e21bf081bcb\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(createLowCoverageAnomalies, \"4015e187aae7a6cc42b510689ea88ce6035e11d219\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(logEnvelopeRestore, \"407ac3a73921f286404dbcc54888f2d48443d48d0a\", null);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(getOnboardingRevenue, \"00f376cccb2a45215a6478116fa0a238715c4d5bcd\", null);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9zZXJ2ZXIvYWN0aW9ucy9zZXR0aW5ncy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDc0M7QUFDRztBQUM4SjtBQUM1SDtBQUlwRSxlQUFlVSx1QkFBdUJDLEtBQTBDO0lBQ3JGLE1BQU1WLHNEQUFXQSxDQUFDO1FBQUM7S0FBVTtJQUM3QixNQUFNVyxTQUFPVixxRkFBNEJBLENBQUNXLFNBQVMsQ0FBQztRQUFDRjtJQUFLO0lBQUksSUFBRyxDQUFDQyxPQUFPRSxPQUFPLEVBQUUsTUFBTSxJQUFJQyxNQUFNSCxPQUFPSSxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFHQSxFQUFFQyxPQUFPLEVBQUVDLElBQUksQ0FBQztJQUM3SSxNQUFNQyxNQUFJVixPQUFPVyxJQUFJLENBQUNaLEtBQUssQ0FBQ08sR0FBRyxDQUFDTSxDQUFBQSxJQUFHQSxFQUFFQyxVQUFVO0lBQy9DLE1BQU1DLE9BQUssTUFBTTFCLCtDQUFNQSxDQUFDMkIsUUFBUSxDQUFDQyxRQUFRLENBQUM7UUFBRUMsT0FBTTtZQUFFQyxJQUFHO2dCQUFFQyxJQUFHVDtZQUFJO1FBQUU7SUFBRTtJQUNwRSxJQUFHSSxLQUFLTSxNQUFNLEtBQUdWLElBQUlVLE1BQU0sRUFBRSxNQUFNLElBQUlqQixNQUFNO0lBQzdDLElBQUdXLEtBQUtPLElBQUksQ0FBQ2QsQ0FBQUEsSUFBRyxDQUFDQSxFQUFFZSxNQUFNLEdBQUcsTUFBTSxJQUFJbkIsTUFBTTtJQUM1QyxNQUFNb0IsTUFBSSxJQUFJQztJQUNkLE1BQU1wQywrQ0FBTUEsQ0FBQ3FDLGdCQUFnQixDQUFDQyxVQUFVLENBQUM7UUFBRVQsT0FBTTtZQUFFVSxVQUFTO2dCQUFFQyxLQUFJTDtZQUFJO1lBQUdNLElBQUc7Z0JBQUM7b0JBQUNDLFFBQU87Z0JBQUk7Z0JBQUU7b0JBQUNBLFFBQU87d0JBQUNDLElBQUdSO29CQUFHO2dC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QUFBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJDMjQxXFxNdXNpY1xcZmluYW5jZS1hcHAtdjEtbWFpblxcZmluYW5jZS1hcHAtdjEtbWFpblxcc3JjXFxzZXJ2ZXJcXGFjdGlvbnNcXHNldHRpbmdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xuaW1wb3J0IHsgcmVxdWlyZVJvbGUgfSBmcm9tIFwiQC9saWIvYXV0aFwiO1xuaW1wb3J0IHsgVXBkYXRlRGlzdHJpYnV0aW9uUnVsZVNjaGVtYSwgVXBzZXJ0RW52ZWxvcGVTY2hlbWEsIFRvZ2dsZUVudmVsb3BlQWN0aXZlU2NoZW1hLCBUb2dnbGVFbnZlbG9wZVByb3RlY3RlZFNjaGVtYSwgVXBzZXJ0U2VydmljZVNjaGVtYSwgVG9nZ2xlU2VydmljZVNjaGVtYSB9IGZyb20gXCJAL3NlcnZlci92YWxpZGF0b3JzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBnZXRBY3RpdmVEaXN0cmlidXRpb25SdWxlIGFzIF9nZXQgfSBmcm9tIFwiQC9zZXJ2ZXIvcXVlcmllcy9ydWxlc1wiO1xuaW1wb3J0IHsgVHlwZVBvbGljaWVzU2NoZW1hIH0gZnJvbSBcIkAvc2VydmVyL3ZhbGlkYXRvcnMvcG9saWNpZXNcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVEaXN0cmlidXRpb25SdWxlKGl0ZW1zOntlbnZlbG9wZUlkOnN0cmluZztwZXJjZW50Om51bWJlcn1bXSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pO1xuICBjb25zdCBwYXJzZWQ9VXBkYXRlRGlzdHJpYnV0aW9uUnVsZVNjaGVtYS5zYWZlUGFyc2Uoe2l0ZW1zfSk7IGlmKCFwYXJzZWQuc3VjY2VzcykgdGhyb3cgbmV3IEVycm9yKHBhcnNlZC5lcnJvci5lcnJvcnMubWFwKGU9PmUubWVzc2FnZSkuam9pbihcIjsgXCIpKTtcbiAgY29uc3QgaWRzPXBhcnNlZC5kYXRhLml0ZW1zLm1hcChpPT5pLmVudmVsb3BlSWQpO1xuICBjb25zdCBlbnZzPWF3YWl0IHByaXNtYS5lbnZlbG9wZS5maW5kTWFueSh7IHdoZXJlOnsgaWQ6eyBpbjppZHMgfSB9IH0pO1xuICBpZihlbnZzLmxlbmd0aCE9PWlkcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkNlcnRhaW5lcyBlbnZlbG9wcGVzIG4nZXhpc3RlbnQgcGFzXCIpO1xuICBpZihlbnZzLnNvbWUoZT0+IWUuYWN0aXZlKSkgdGhyb3cgbmV3IEVycm9yKFwiQ2VydGFpbmVzIGVudmVsb3BwZXMgc29udCBpbmFjdGl2ZXNcIik7XG4gIGNvbnN0IG5vdz1uZXcgRGF0ZSgpO1xuICBhd2FpdCBwcmlzbWEuZGlzdHJpYnV0aW9uUnVsZS51cGRhdGVNYW55KHsgd2hlcmU6eyBzdGFydHNBdDp7IGx0ZTpub3cgfSwgT1I6W3tlbmRzQXQ6bnVsbH0se2VuZHNBdDp7Z3Q6bm93fX1dIH0sIGRhdGE6eyBlbmRzQXQ6bm93IH0gfSk7XG4gIGNvbnN0IHJ1bGU9YXdhaXQgcHJpc21hLmRpc3RyaWJ1dGlvblJ1bGUuY3JlYXRlKHsgZGF0YTp7IHN0YXJ0c0F0OiBub3cgfSB9KTtcbiAgYXdhaXQgcHJpc21hLmRpc3RyaWJ1dGlvblJ1bGVJdGVtLmNyZWF0ZU1hbnkoeyBkYXRhOiBwYXJzZWQuZGF0YS5pdGVtcy5tYXAoaT0+KHsgcnVsZUlkOnJ1bGUuaWQsIGVudmVsb3BlSWQ6aS5lbnZlbG9wZUlkLCBwZXJjZW50OmkucGVyY2VudCB9KSkgfSk7XG4gIHJldHVybiB7IHJ1bGVJZDogcnVsZS5pZCB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RFbnZlbG9wZXMoKXsgYXdhaXQgcmVxdWlyZVJvbGUoW1wib3BlcmF0b3JcIixcIm1hbmFnZXJcIixcImF1ZGl0b3JcIl0pOyByZXR1cm4gcHJpc21hLmVudmVsb3BlLmZpbmRNYW55KHsgb3JkZXJCeTp7IGNyZWF0ZWRBdDpcImFzY1wiIH0gfSk7IH1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0UmVjdXJyaW5nQ2hhcmdlcygpeyBhd2FpdCByZXF1aXJlUm9sZShbXCJvcGVyYXRvclwiLFwibWFuYWdlclwiLFwiYXVkaXRvclwiXSk7IHJldHVybiBwcmlzbWEucmVjdXJyaW5nQ2hhcmdlLmZpbmRNYW55KHsgb3JkZXJCeTp7IGNyZWF0ZWRBdDpcImFzY1wiIH0gfSk7IH1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydFJlY3VycmluZ0NoYXJnZShpbnB1dDp7IGlkPzpzdHJpbmc7IG5hbWU6c3RyaW5nOyBhbW91bnQ6bnVtYmVyOyBmcmVxdWVuY3k/OnN0cmluZzsgZW52ZWxvcGVJZD86c3RyaW5nfG51bGwgfSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pO1xuICBjb25zdCBwID0gaW5wdXQ7XG4gIGNvbnN0IGRhdGE6YW55ID0geyBuYW1lOiBwLm5hbWUsIGFtb3VudDogcC5hbW91bnQsIGZyZXF1ZW5jeTogcC5mcmVxdWVuY3kgPz8gJ21vbnRobHknLCBlbnZlbG9wZUlkOiBwLmVudmVsb3BlSWQgPz8gbnVsbCB9O1xuICBpZihwLmlkKSByZXR1cm4gcHJpc21hLnJlY3VycmluZ0NoYXJnZS51cGRhdGUoeyB3aGVyZTp7IGlkOiBwLmlkIH0sIGRhdGEgfSk7XG4gIHJldHVybiBwcmlzbWEucmVjdXJyaW5nQ2hhcmdlLmNyZWF0ZSh7IGRhdGEgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVSZWN1cnJpbmdDaGFyZ2UoaW5wdXQ6eyBpZDpzdHJpbmcgfSl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pOyBjb25zdCB7IGlkIH0gPSBpbnB1dDsgcmV0dXJuIHByaXNtYS5yZWN1cnJpbmdDaGFyZ2UuZGVsZXRlKHsgd2hlcmU6eyBpZCB9IH0pOyB9XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdFNlcnZpY2VzKCl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm9wZXJhdG9yXCIsXCJtYW5hZ2VyXCIsXCJhdWRpdG9yXCJdKTsgcmV0dXJuIHByaXNtYS5zZXJ2aWNlLmZpbmRNYW55KHsgb3JkZXJCeTp7IGNyZWF0ZWRBdDpcImFzY1wiIH0gfSk7IH1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVSdWxlKCl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm9wZXJhdG9yXCIsXCJtYW5hZ2VyXCIsXCJhdWRpdG9yXCJdKTsgY29uc3Qgcj1hd2FpdCBfZ2V0KCk7IGlmKCFyKSByZXR1cm4gbnVsbDsgcmV0dXJuIHsgaWQ6ci5pZCwgc3RhcnRzQXQ6ci5zdGFydHNBdCwgZW5kc0F0OnIuZW5kc0F0Pz9udWxsLCBpdGVtczpyLml0ZW1zLm1hcChpPT4oeyBlbnZlbG9wZUlkOmkuZW52ZWxvcGVJZCwgcGVyY2VudDppLnBlcmNlbnQsIGVudmVsb3BlTmFtZTppLmVudmVsb3BlLm5hbWUgfSkpIH07IH1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0UnVsZXNIaXN0b3J5KCl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm9wZXJhdG9yXCIsXCJtYW5hZ2VyXCIsXCJhdWRpdG9yXCJdKTsgY29uc3QgcnM9YXdhaXQgcHJpc21hLmRpc3RyaWJ1dGlvblJ1bGUuZmluZE1hbnkoeyBpbmNsdWRlOnsgaXRlbXM6eyBpbmNsdWRlOnsgZW52ZWxvcGU6dHJ1ZSB9IH0gfSwgb3JkZXJCeTp7IHN0YXJ0c0F0OlwiZGVzY1wiIH0gfSk7IHJldHVybiBycy5tYXAocj0+KHsgaWQ6ci5pZCwgc3RhcnRzQXQ6ci5zdGFydHNBdCwgZW5kc0F0OnIuZW5kc0F0Pz9udWxsLCBpdGVtczpyLml0ZW1zLm1hcChpPT4oeyBlbnZlbG9wZUlkOmkuZW52ZWxvcGVJZCwgcGVyY2VudDppLnBlcmNlbnQsIGVudmVsb3BlTmFtZTppLmVudmVsb3BlLm5hbWUgfSkpIH0pKTsgfVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydEVudmVsb3BlKGlucHV0OntpZD86c3RyaW5nO25hbWU6c3RyaW5nO2Vtb2ppPzpzdHJpbmc7cHJvdGVjdGVkPzpib29sZWFuO2FjdGl2ZT86Ym9vbGVhbjsgYnVkZ2V0VGFyZ2V0Om51bWJlcn0pe1xuICBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTtcbiAgY29uc3QgcD1VcHNlcnRFbnZlbG9wZVNjaGVtYS5zYWZlUGFyc2UoaW5wdXQpOyBpZighcC5zdWNjZXNzKSB0aHJvdyBuZXcgRXJyb3IocC5lcnJvci5lcnJvcnMubWFwKGU9PmUubWVzc2FnZSkuam9pbihcIjsgXCIpKTtcbiAgY29uc3QgZGF0YTphbnkgPSB7IG5hbWU6cC5kYXRhLm5hbWUsIGVtb2ppOnAuZGF0YS5lbW9qaT8/bnVsbCwgcHJvdGVjdGVkOnAuZGF0YS5wcm90ZWN0ZWQ/P2ZhbHNlLCBhY3RpdmU6cC5kYXRhLmFjdGl2ZT8/dHJ1ZSB9O1xuICBkYXRhLmJ1ZGdldFRhcmdldCA9IChwLmRhdGEgYXMgYW55KS5idWRnZXRUYXJnZXQgPz8gbnVsbDtcbiAgaWYocC5kYXRhLmlkKSByZXR1cm4gcHJpc21hLmVudmVsb3BlLnVwZGF0ZSh7IHdoZXJlOnsgaWQ6cC5kYXRhLmlkIH0sIGRhdGEgfSk7IHJldHVybiBwcmlzbWEuZW52ZWxvcGUuY3JlYXRlKHsgZGF0YSB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b2dnbGVFbnZlbG9wZUFjdGl2ZShpbnB1dDp7aWQ6c3RyaW5nO2FjdGl2ZTpib29sZWFufSl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pOyBjb25zdCBwPVRvZ2dsZUVudmVsb3BlQWN0aXZlU2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7IGlmKCFwLnN1Y2Nlc3MpIHRocm93IG5ldyBFcnJvcihwLmVycm9yLmVycm9ycy5tYXAoZT0+ZS5tZXNzYWdlKS5qb2luKFwiOyBcIikpOyByZXR1cm4gcHJpc21hLmVudmVsb3BlLnVwZGF0ZSh7IHdoZXJlOnsgaWQ6cC5kYXRhLmlkIH0sIGRhdGE6eyBhY3RpdmU6cC5kYXRhLmFjdGl2ZSB9IH0pOyB9XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlRW52ZWxvcGVQcm90ZWN0ZWQoaW5wdXQ6e2lkOnN0cmluZztwcm90ZWN0ZWQ6Ym9vbGVhbn0peyBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTsgY29uc3QgcD1Ub2dnbGVFbnZlbG9wZVByb3RlY3RlZFNjaGVtYS5zYWZlUGFyc2UoaW5wdXQpOyBpZighcC5zdWNjZXNzKSB0aHJvdyBuZXcgRXJyb3IocC5lcnJvci5lcnJvcnMubWFwKGU9PmUubWVzc2FnZSkuam9pbihcIjsgXCIpKTsgcmV0dXJuIHByaXNtYS5lbnZlbG9wZS51cGRhdGUoeyB3aGVyZTp7IGlkOnAuZGF0YS5pZCB9LCBkYXRhOnsgcHJvdGVjdGVkOnAuZGF0YS5wcm90ZWN0ZWQgfSB9KTsgfVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydFNlcnZpY2UoaW5wdXQ6e2lkPzpzdHJpbmc7bmFtZTpzdHJpbmc7YWN0aXZlPzpib29sZWFufSl7IGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pOyBjb25zdCBwPVVwc2VydFNlcnZpY2VTY2hlbWEuc2FmZVBhcnNlKGlucHV0KTsgaWYoIXAuc3VjY2VzcykgdGhyb3cgbmV3IEVycm9yKHAuZXJyb3IuZXJyb3JzLm1hcChlPT5lLm1lc3NhZ2UpLmpvaW4oXCI7IFwiKSk7IGNvbnN0IGRhdGE9eyBuYW1lOnAuZGF0YS5uYW1lLCBhY3RpdmU6cC5kYXRhLmFjdGl2ZT8/dHJ1ZSB9OyBpZihwLmRhdGEuaWQpIHJldHVybiBwcmlzbWEuc2VydmljZS51cGRhdGUoeyB3aGVyZTp7IGlkOnAuZGF0YS5pZCB9LCBkYXRhIH0pOyByZXR1cm4gcHJpc21hLnNlcnZpY2UuY3JlYXRlKHsgZGF0YSB9KTsgfVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZVNlcnZpY2UoaW5wdXQ6e2lkOnN0cmluZzthY3RpdmU6Ym9vbGVhbn0peyBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTsgY29uc3QgcD1Ub2dnbGVTZXJ2aWNlU2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7IGlmKCFwLnN1Y2Nlc3MpIHRocm93IG5ldyBFcnJvcihwLmVycm9yLmVycm9ycy5tYXAoZT0+ZS5tZXNzYWdlKS5qb2luKFwiOyBcIikpOyByZXR1cm4gcHJpc21hLnNlcnZpY2UudXBkYXRlKHsgd2hlcmU6eyBpZDpwLmRhdGEuaWQgfSwgZGF0YTp7IGFjdGl2ZTpwLmRhdGEuYWN0aXZlIH0gfSk7IH1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVNlcnZpY2UoaW5wdXQ6eyBpZDpzdHJpbmcgfSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pO1xuICBjb25zdCB7IGlkIH0gPSBpbnB1dDtcbiAgY29uc3QgZXhpc3RzID0gYXdhaXQgcHJpc21hLnNlcnZpY2UuZmluZFVuaXF1ZSh7IHdoZXJlOnsgaWQgfSB9KTtcbiAgaWYoIWV4aXN0cykgdGhyb3cgbmV3IEVycm9yKCdTZXJ2aWNlIGludHJvdXZhYmxlJyk7XG4gIGF3YWl0IHByaXNtYS5zZXJ2aWNlLmRlbGV0ZSh7IHdoZXJlOnsgaWQgfSB9KTtcbiAgYXdhaXQgcHJpc21hLmF1ZGl0TG9nLmNyZWF0ZSh7IGRhdGE6IHsgYWN0aW9uOiAnc2VydmljZS5kZWxldGUnLCBtZXRhSnNvbjogSlNPTi5zdHJpbmdpZnkoeyBpZCwgbmFtZTogZXhpc3RzLm5hbWUgfSkgfSB9KTtcbiAgcmV0dXJuIHsgb2s6dHJ1ZSB9O1xufVxuXG4vLyBDaGFyZ2VUeXBlIENSVUQgc3VwcHJpbcOpIOKAlCBwbHVzIGRlIG1vZMOobGUgc8OpcGFyw6kgcG91ciBsZXMgdHlwZXNcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUVudmVsb3BlKGlucHV0OntpZDpzdHJpbmd9KXtcbiAgYXdhaXQgcmVxdWlyZVJvbGUoW1wibWFuYWdlclwiXSk7XG4gIGNvbnN0IHsgaWQgfSA9IGlucHV0O1xuICAvLyBJbnRlcmRpcmUgc3VwcHJlc3Npb24gc2kgZGVzIGFsbG9jYXRpb25zIGV4aXN0ZW50XG4gIGNvbnN0IGFsbG9jQ291bnQgPSBhd2FpdCBwcmlzbWEudHJhbnNhY3Rpb25BbGxvY2F0aW9uLmNvdW50KHsgd2hlcmU6IHsgZW52ZWxvcGVJZDogaWQgfSB9KTtcbiAgY29uc3QgcnVsZVJlZkNvdW50ID0gYXdhaXQgcHJpc21hLmRpc3RyaWJ1dGlvblJ1bGVJdGVtLmNvdW50KHsgd2hlcmU6IHsgZW52ZWxvcGVJZDogaWQgfSB9KTtcblxuICAvLyBCZXN0IHByYWN0aWNlOiBkbyBOT1QgZm9yY2UtZGVsZXRlIGVudmVsb3BlcyB0aGF0IGhhdmUgaGlzdG9yaWNhbCBhbGxvY2F0aW9ucyBvciBhcmUgcmVmZXJlbmNlZCBieSBydWxlcy5cbiAgLy8gSW5zdGVhZCwgZGlzYWJsZSB0aGUgZW52ZWxvcGUgc28gZGF0YSBpbnRlZ3JpdHkgaXMgcHJlc2VydmVkIHdoaWxlIHJlbW92aW5nIGl0IGZyb20gYWN0aXZlIHVzZS5cbiAgaWYoYWxsb2NDb3VudD4wIHx8IHJ1bGVSZWZDb3VudD4wKXtcbiAgICAvLyBNYXJrIGFzIGluYWN0aXZlIChzb2Z0LWRlbGV0ZSkgYW5kIHJldHVybiBhbiBpbmZvcm1hdGl2ZSByZXN1bHQgZm9yIHRoZSBjYWxsZXJcbiAgICBhd2FpdCBwcmlzbWEuZW52ZWxvcGUudXBkYXRlKHsgd2hlcmU6IHsgaWQgfSwgZGF0YTogeyBhY3RpdmU6IGZhbHNlIH0gfSk7XG4gICAgcmV0dXJuIHsgb2s6ZmFsc2UsIGRlYWN0aXZhdGVkOnRydWUsIG1lc3NhZ2U6IFwiRW52ZWxvcHBlIGTDqXNhY3RpdsOpZSBjYXIgbGnDqWUgw6AgZGVzIGFsbG9jYXRpb25zIG91IMOgIHVuZSByw6hnbGUgKHByw6lzZXJ2YXRpb24gaGlzdG9yaXF1ZSkuXCIgfTtcbiAgfVxuXG4gIC8vIElmIG5vIGhpc3RvcmljYWwgbGlua3MsIGFsbG93IHJlYWwgZGVsZXRpb25cbiAgYXdhaXQgcHJpc21hLmVudmVsb3BlLmRlbGV0ZSh7IHdoZXJlOiB7IGlkIH0gfSk7XG4gIHJldHVybiB7IG9rOnRydWUsIGRlbGV0ZWQ6dHJ1ZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9yY2VEZWxldGVFbnZlbG9wZShpbnB1dDp7aWQ6c3RyaW5nfSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pO1xuICBjb25zdCB7IGlkIH0gPSBpbnB1dDtcbiAgY29uc3QgZXhpc3RzID0gYXdhaXQgcHJpc21hLmVudmVsb3BlLmZpbmRVbmlxdWUoeyB3aGVyZTp7IGlkIH0gfSk7XG4gIGlmKCFleGlzdHMpIHRocm93IG5ldyBFcnJvcihcIkVudmVsb3BwZSBpbnRyb3V2YWJsZVwiKTtcblxuICAvLyBEZWxldGUgYWxsb2NhdGlvbnMgYW5kIGFueSBkaXN0cmlidXRpb24gcnVsZSBpdGVtcyByZWZlcmVuY2luZyBpdFxuICBhd2FpdCBwcmlzbWEudHJhbnNhY3Rpb25BbGxvY2F0aW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBlbnZlbG9wZUlkOiBpZCB9IH0pO1xuICBhd2FpdCBwcmlzbWEuZGlzdHJpYnV0aW9uUnVsZUl0ZW0uZGVsZXRlTWFueSh7IHdoZXJlOiB7IGVudmVsb3BlSWQ6IGlkIH0gfSk7XG5cbiAgLy8gRGVsZXRlIHRoZSBlbnZlbG9wZSBpdHNlbGZcbiAgYXdhaXQgcHJpc21hLmVudmVsb3BlLmRlbGV0ZSh7IHdoZXJlOiB7IGlkIH0gfSk7XG5cbiAgLy8gTG9nIGFuIGFub21hbHkgdG8gcmVjb3JkIHRoZSBkZXN0cnVjdGl2ZSBhY3Rpb25cbiAgYXdhaXQgcHJpc21hLmFub21hbHkuY3JlYXRlKHsgZGF0YTogeyBsZXZlbDogJ2luZm8nLCBjb2RlOiAnRU5WRUxPUEVfRk9SQ0VfREVMRVRFRCcsIGRldGFpbHM6IGBFbnZlbG9wZSAke2V4aXN0cy5uYW1lfSAoJHtpZH0pIHBlcm1hbmVudGx5IGRlbGV0ZWQgYnkgbWFuYWdlcmAgfSB9KTtcblxuICByZXR1cm4geyBvazp0cnVlLCBkZWxldGVkOnRydWUgfTtcbn1cblxuLy8gQ2FsY3VsZSBkZXMgcG91cmNlbnRhZ2VzIHJlY29tbWFuZMOpcyDDoCBwYXJ0aXIgZCd1biByZXZlbnUgdG90YWwgKHByZXZpZXcgb25seSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWNvbW1lbmRQZXJjZW50YWdlcyhpbnB1dDp7IGFtb3VudDpudW1iZXI7IGltcHJldnVzUGVyY2VudD86bnVtYmVyIH0pe1xuICBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTtcbiAgY29uc3QgYW1vdW50ID0gTnVtYmVyKGlucHV0LmFtb3VudCB8fCAwKTtcbiAgaWYoIU51bWJlci5pc0Zpbml0ZShhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJNb250YW50IGRlIHJldmVudSBpbnZhbGlkZVwiKTtcbiAgY29uc3QgaW1wcmV2dXNQY3QgPSB0eXBlb2YgaW5wdXQuaW1wcmV2dXNQZXJjZW50ID09PSAnbnVtYmVyJyA/IE51bWJlcihpbnB1dC5pbXByZXZ1c1BlcmNlbnQpIDogMTA7XG5cbiAgLy8gRW5zdXJlIGFuICdJbXByw6l2dXMnIGVudmVsb3BlIGV4aXN0cyBiZWZvcmUgY29tcHV0YXRpb25zXG4gIGF3YWl0IGVuc3VyZUltcHJldnVzRW52ZWxvcGUoKTtcbiAgY29uc3QgZW52cyA9IGF3YWl0IHByaXNtYS5lbnZlbG9wZS5maW5kTWFueSh7IHdoZXJlOiB7IGFjdGl2ZTogdHJ1ZSB9IH0pO1xuICAvLyBpbmNsdWRlIHJlY3VycmluZyBjaGFyZ2VzIChub3JtYWxpemVkIHRvIG1vbnRobHkpIHRvIGJlIGNvbnNpZGVyZWQgYXMgYmxvY2tlZC1saWtlIG9ibGlnYXRpb25zXG4gIGNvbnN0IHJlY3MgPSBhd2FpdCBwcmlzbWEucmVjdXJyaW5nQ2hhcmdlLmZpbmRNYW55KHsgd2hlcmU6IHsgZW52ZWxvcGVJZDogeyBpbjogZW52cy5tYXAoZT0+ZS5pZCkgfSB9IH0pO1xuICBjb25zdCByZWNNYXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICByZWNzLmZvckVhY2gocj0+e1xuICAgIGxldCBtb250aGx5ID0gTnVtYmVyKHIuYW1vdW50IHx8IDApO1xuICAgIGlmKHIuZnJlcXVlbmN5ID09PSAnd2Vla2x5JykgbW9udGhseSA9IE1hdGgucm91bmQobW9udGhseSAqIDQuMzQ1KTsgLy8gd2Vla3MgdG8gbW9udGhcbiAgICBpZihyLmZyZXF1ZW5jeSA9PT0gJ3llYXJseScpIG1vbnRobHkgPSBNYXRoLnJvdW5kKG1vbnRobHkgLyAxMik7XG4gICAgaWYoci5lbnZlbG9wZUlkKSByZWNNYXAuc2V0KHIuZW52ZWxvcGVJZCwgKHJlY01hcC5nZXQoci5lbnZlbG9wZUlkKSB8fCAwKSArIG1vbnRobHkpO1xuICB9KTtcbiAgLy8gaWRlbnRpZnkgaW1wcmV2dXMgZW52ZWxvcGVcbiAgY29uc3QgaW1wcmV2dXMgPSBlbnZzLmZpbmQoZSA9PiAoZS5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbXByZXYnKSB8fCAoZS5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdpbXByw6l2dScpKTtcblxuICBjb25zdCB0b3RhbFJldmVudWUgPSBhbW91bnQ7XG4gIGxldCBhbGxvY2F0ZWQgPSAwO1xuICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdO1xuXG4gIC8vIGFsbG9jYXRlIGltcHJldnVzIGZpcnN0XG4gIGlmKGltcHJldnVzKXtcbiAgICBjb25zdCBpbXByZXZ1c0Ftb3VudCA9IE1hdGgucm91bmQodG90YWxSZXZlbnVlICogKGltcHJldnVzUGN0LzEwMCkpO1xuICAgIGFsbG9jYXRlZCArPSBpbXByZXZ1c0Ftb3VudDtcbiAgICByZXN1bHRzLnB1c2goeyBlbnZlbG9wZUlkOiBpbXByZXZ1cy5pZCwgbmFtZTogaW1wcmV2dXMubmFtZSwgYW1vdW50OiBpbXByZXZ1c0Ftb3VudCwgcGVyY2VudDogKygxMDAgKiBpbXByZXZ1c0Ftb3VudCAvIHRvdGFsUmV2ZW51ZSkudG9GaXhlZCgyKSB9KTtcbiAgfVxuXG4gIC8vIGJsb2NrZWQgZW52ZWxvcGVzOiB0aG9zZSBtYXJrZWQgcHJvdGVjdGVkIG9yIGNsYXNzaWZpZWQgYXMgJ2Jsb2NrZWQnXG4gIGNvbnN0IGJsb2NrZWQgPSBlbnZzLmZpbHRlcihlID0+IChlLnByb3RlY3RlZCA9PT0gdHJ1ZSkgfHwgKGUuY2xhc3NpZmljYXRpb24gPT09ICdibG9ja2VkJykpLmZpbHRlcihlPT4gIWltcHJldnVzIHx8IGUuaWQgIT09IGltcHJldnVzLmlkKTtcbiAgLy8gYWxsb2NhdGUgYnVkZ2V0VGFyZ2V0cyBmb3IgYmxvY2tlZCBpZiBwcmVzZW50XG4gIGZvcihjb25zdCBiIG9mIGJsb2NrZWQpe1xuICAgIGNvbnN0IGJ1ZGdldEFtdCA9IGIuYnVkZ2V0VGFyZ2V0ID8gTnVtYmVyKGIuYnVkZ2V0VGFyZ2V0KSA6IDA7XG4gICAgY29uc3QgcmVjQW10ID0gcmVjTWFwLmdldChiLmlkKSA/PyAwO1xuICAgIGNvbnN0IGFtdCA9IGJ1ZGdldEFtdCArIHJlY0FtdDtcbiAgICBhbGxvY2F0ZWQgKz0gYW10O1xuICAgIHJlc3VsdHMucHVzaCh7IGVudmVsb3BlSWQ6IGIuaWQsIG5hbWU6IGIubmFtZSwgYW1vdW50OiBhbXQsIHBlcmNlbnQ6ICsoMTAwICogKGFtdCkgLyB0b3RhbFJldmVudWUpLnRvRml4ZWQoMikgfSk7XG4gIH1cblxuICAvLyByZW1haW5pbmcgZm9yIGZsZXggZW52ZWxvcGVzXG4gIGNvbnN0IGZsZXggPSBlbnZzLmZpbHRlcihlID0+ICEoIChlLnByb3RlY3RlZCA9PT0gdHJ1ZSkgfHwgKGUuY2xhc3NpZmljYXRpb24gPT09ICdibG9ja2VkJykgKSkuZmlsdGVyKGU9PiAhaW1wcmV2dXMgfHwgZS5pZCAhPT0gaW1wcmV2dXMuaWQpO1xuICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCB0b3RhbFJldmVudWUgLSBhbGxvY2F0ZWQpO1xuICAvLyB3ZWlnaHRzOiBidWRnZXRUYXJnZXQgaWYgcHJlc2VudCBlbHNlIDFcbiAgY29uc3Qgd2VpZ2h0cyA9IGZsZXgubWFwKGYgPT4gZi5idWRnZXRUYXJnZXQgPyBOdW1iZXIoZi5idWRnZXRUYXJnZXQpIDogMSk7XG4gIGNvbnN0IHdlaWdodFN1bSA9IHdlaWdodHMucmVkdWNlKChzLHcpPT5zK3csIDApIHx8IDE7XG4gIGZsZXguZm9yRWFjaCgoZiwgaWR4KT0+e1xuICAgIGNvbnN0IGFtdCA9IE1hdGgucm91bmQocmVtYWluaW5nICogKHdlaWdodHNbaWR4XSAvIHdlaWdodFN1bSkpO1xuICAgIHJlc3VsdHMucHVzaCh7IGVudmVsb3BlSWQ6IGYuaWQsIG5hbWU6IGYubmFtZSwgYW1vdW50OiBhbXQsIHBlcmNlbnQ6ICsoMTAwICogYW10IC8gdG90YWxSZXZlbnVlKS50b0ZpeGVkKDIpIH0pO1xuICB9KTtcblxuICAvLyBub3JtYWxpemUgcm91bmRpbmcgZGlmZmVyZW5jZXM6IGVuc3VyZSBzdW0gb2YgYW1vdW50cyBlcXVhbHMgdG90YWxSZXZlbnVlXG4gIGNvbnN0IHN1bUFsbG9jYXRlZCA9IHJlc3VsdHMucmVkdWNlKChzLHIpPT4gcyArIE51bWJlcihyLmFtb3VudHx8MCksIDApO1xuICBjb25zdCBkaWZmID0gdG90YWxSZXZlbnVlIC0gc3VtQWxsb2NhdGVkO1xuICBpZihkaWZmICE9PSAwICYmIHJlc3VsdHMubGVuZ3RoKXsgcmVzdWx0c1swXS5hbW91bnQgPSBOdW1iZXIocmVzdWx0c1swXS5hbW91bnQpICsgZGlmZjsgcmVzdWx0c1swXS5wZXJjZW50ID0gKygxMDAgKiByZXN1bHRzWzBdLmFtb3VudCAvIHRvdGFsUmV2ZW51ZSkudG9GaXhlZCgyKTsgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyBBcHBsaXF1ZSBsZXMgcG91cmNlbnRhZ2VzIHJlY29tbWFuZMOpcyAobWV0IMOgIGpvdXIgRW52ZWxvcGUuZGVmYXVsdFBlcmNlbnQpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0T25ib2FyZGluZ1JldmVudWUoaW5wdXQ6eyBhbW91bnQ6bnVtYmVyOyBpbXByZXZ1c1BlcmNlbnQ/Om51bWJlciwgdXNlcj86c3RyaW5nIH0pe1xuICBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTtcbiAgY29uc3QgcmVjID0gYXdhaXQgcmVjb21tZW5kUGVyY2VudGFnZXMoeyBhbW91bnQ6IGlucHV0LmFtb3VudCwgaW1wcmV2dXNQZXJjZW50OiBpbnB1dC5pbXByZXZ1c1BlcmNlbnQgfSk7XG4gIC8vIHBlcnNpc3QgZGVmYXVsdFBlcmNlbnQgcGVyIGVudmVsb3BlXG4gIGNvbnN0IHR4ID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihyZWMubWFwKHI9PiBwcmlzbWEuZW52ZWxvcGUudXBkYXRlKHsgd2hlcmU6eyBpZDogci5lbnZlbG9wZUlkIH0sIGRhdGE6IHsgZGVmYXVsdFBlcmNlbnQ6IE51bWJlcihOdW1iZXIoci5wZXJjZW50KS50b0ZpeGVkKDIpKSB9IH0pKSk7XG4gIC8vIGF1ZGl0IGxvZ1xuICBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuY3JlYXRlKHsgZGF0YTogeyBhY3Rpb246ICdzZXRPbmJvYXJkaW5nUmV2ZW51ZScsIG1ldGFKc29uOiBKU09OLnN0cmluZ2lmeSh7IGFtb3VudDogaW5wdXQuYW1vdW50LCB1c2VyOiBpbnB1dC51c2VyID8/IG51bGwsIGFwcGxpZWQ6IHJlYy5sZW5ndGggfSkgfSB9KTtcbiAgcmV0dXJuIHsgb2s6dHJ1ZSwgYXBwbGllZDogcmVjLmxlbmd0aCwgcmVjb21tZW5kYXRpb25zOiByZWMgfTtcbn1cblxuLy8gQW5hbHlzZSBoaXN0b3JpcXVlIGV0IHByb3Bvc2UgZGVzIGFqdXN0ZW1lbnRzIGRlIHBvdXJjZW50YWdlcyBwYXIgZW52ZWxvcHBlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvcG9zZVBlcmNlbnRBZGp1c3RtZW50cyhpbnB1dD86eyBtb250aHM/Om51bWJlciB9KXtcbiAgYXdhaXQgcmVxdWlyZVJvbGUoW1wibWFuYWdlclwiXSk7XG4gIGNvbnN0IG1vbnRocyA9IGlucHV0Py5tb250aHMgPz8gMztcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY29uc3Qgc2luY2UgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCkgLSBtb250aHMsIG5vdy5nZXREYXRlKCkpO1xuXG4gIGNvbnN0IGVudnMgPSBhd2FpdCBwcmlzbWEuZW52ZWxvcGUuZmluZE1hbnkoeyB3aGVyZTogeyBhY3RpdmU6IHRydWUgfSwgc2VsZWN0OiB7IGlkOnRydWUsIG5hbWU6dHJ1ZSwgZGVmYXVsdFBlcmNlbnQ6dHJ1ZSwgcHJvdGVjdGVkOnRydWUgfSB9KTtcbiAgY29uc3QgaWRzID0gZW52cy5tYXAoZT0+ZS5pZCk7XG4gIGlmKGlkcy5sZW5ndGg9PT0wKSByZXR1cm4gW10gYXMgYW55W107XG5cbiAgY29uc3Qgb3V0cyA9IGF3YWl0IHByaXNtYS50cmFuc2FjdGlvbkFsbG9jYXRpb24uZ3JvdXBCeSh7IGJ5OiBbJ2VudmVsb3BlSWQnXSwgd2hlcmU6IHsgZW52ZWxvcGVJZDogeyBpbjogaWRzIH0sIHRyYW5zYWN0aW9uOiB7IGtpbmQ6ICdPVVQnLCBhdDogeyBndGU6IHNpbmNlIH0gfSB9LCBfc3VtOiB7IGFtb3VudDogdHJ1ZSB9IH0pO1xuICBjb25zdCB0b3RhbE91dCA9IG91dHMucmVkdWNlKChzLG8pPT4gcyArIChvLl9zdW0uYW1vdW50ID8/IDApLCAwKTtcbiAgY29uc3Qgb3V0TWFwID0gbmV3IE1hcChvdXRzLm1hcChvPT5bby5lbnZlbG9wZUlkLCBvLl9zdW0uYW1vdW50ID8/IDBdKSk7XG5cbiAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZW52cy5tYXAoZT0+e1xuICAgIGNvbnN0IG91dFZhbCA9IG91dE1hcC5nZXQoZS5pZCkgPz8gMDtcbiAgICBjb25zdCBvYnNlcnZlZFBjdCA9IHRvdGFsT3V0ID4gMCA/IChvdXRWYWwgLyB0b3RhbE91dCkgKiAxMDAgOiAwO1xuICAgIC8vIElmIGVudmVsb3BlIGlzIHByb3RlY3RlZCwgZW5zdXJlIHN1Z2dlc3RlZCBpcyBhdCBsZWFzdCBjdXJyZW50IGRlZmF1bHRcbiAgICBjb25zdCBzdWdnZXN0ZWQgPSBlLnByb3RlY3RlZCA/IE1hdGgubWF4KGUuZGVmYXVsdFBlcmNlbnQgPz8gMCwgTnVtYmVyKG9ic2VydmVkUGN0LnRvRml4ZWQoMikpKSA6IE51bWJlcihvYnNlcnZlZFBjdC50b0ZpeGVkKDIpKTtcbiAgICByZXR1cm4geyBlbnZlbG9wZUlkOiBlLmlkLCBuYW1lOiBlLm5hbWUsIG9ic2VydmVkUGVyY2VudDogTnVtYmVyKG9ic2VydmVkUGN0LnRvRml4ZWQoMikpLCBzdWdnZXN0ZWRQZXJjZW50OiBOdW1iZXIoc3VnZ2VzdGVkLnRvRml4ZWQoMikpLCBjdXJyZW50RGVmYXVsdDogZS5kZWZhdWx0UGVyY2VudCA/PyBudWxsIH07XG4gIH0pLnNvcnQoKGEsYik9PiAoYi5zdWdnZXN0ZWRQZXJjZW50IC0gYS5zdWdnZXN0ZWRQZXJjZW50KSk7XG5cbiAgcmV0dXJuIHsgbW9udGhzLCB0b3RhbE91dCwgcmVjb21tZW5kYXRpb25zIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseVN1Z2dlc3RlZFBlcmNlbnRzKGlucHV0OnsgaXRlbXM6eyBlbnZlbG9wZUlkOnN0cmluZzsgcGVyY2VudDpudW1iZXIgfVtdLCB1c2VyPzpzdHJpbmcgfSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIl0pO1xuICBjb25zdCB0eCA9IGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oaW5wdXQuaXRlbXMubWFwKGl0PT4gcHJpc21hLmVudmVsb3BlLnVwZGF0ZSh7IHdoZXJlOnsgaWQ6IGl0LmVudmVsb3BlSWQgfSwgZGF0YTogeyBkZWZhdWx0UGVyY2VudDogTnVtYmVyKE51bWJlcihpdC5wZXJjZW50KS50b0ZpeGVkKDIpKSB9IH0pKSk7XG4gIGF3YWl0IHByaXNtYS5hdWRpdExvZy5jcmVhdGUoeyBkYXRhOiB7IGFjdGlvbjogJ2FwcGx5U3VnZ2VzdGVkUGVyY2VudHMnLCBtZXRhSnNvbjogSlNPTi5zdHJpbmdpZnkoeyBjb3VudDogaW5wdXQuaXRlbXMubGVuZ3RoLCB1c2VyOiBpbnB1dC51c2VyID8/IG51bGwgfSkgfSB9KTtcbiAgcmV0dXJuIHsgb2s6dHJ1ZSwgYXBwbGllZDogaW5wdXQuaXRlbXMubGVuZ3RoIH07XG59XG5cbi8vIENyw6llIGRlcyBhbm9tYWxpZXMgcG91ciBsZXMgZW52ZWxvcHBlcyBkb250IGxhIGNvdXZlcnR1cmUgKG1vaXMpIGVzdCBpbmbDqXJpZXVyZSBhdSBzZXVpbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUxvd0NvdmVyYWdlQW5vbWFsaWVzKGlucHV0PzogeyB0aHJlc2hvbGRNb250aHM/OiBudW1iZXIgfSl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm1hbmFnZXJcIixcIm9wZXJhdG9yXCJdKTtcbiAgY29uc3QgdGhyZXNob2xkID0gaW5wdXQ/LnRocmVzaG9sZE1vbnRocyA/PyAyO1xuICAvLyByZXVzZSBjb3ZlcmFnZSBoZWxwZXJcbiAgY29uc3QgeyBnZXRFbnZlbG9wZUNvdmVyYWdlQWxsIH0gPSBhd2FpdCBpbXBvcnQoJ0Avc2VydmVyL3F1ZXJpZXMvZW52ZWxvcGVzJyk7XG4gIGNvbnN0IGNvdnMgPSBhd2FpdCBnZXRFbnZlbG9wZUNvdmVyYWdlQWxsKHsgZGF5c1dpbmRvdzogOTAgfSk7XG4gIGNvbnN0IGxvdyA9IGNvdnMuZmlsdGVyKChjOmFueSk9PiAoYy5tb250aHNDb3ZlcmFnZSAhPT0gSW5maW5pdHkgJiYgYy5tb250aHNDb3ZlcmFnZSA8IHRocmVzaG9sZCkpO1xuICBsZXQgY3JlYXRlZCA9IDA7XG4gIGZvcihjb25zdCBjIG9mIGxvdyl7XG4gICAgLy8gYXZvaWQgZHVwbGljYXRlIG9wZW4gYW5vbWFseSB3aXRoIHNhbWUgY29kZVxuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgcHJpc21hLmFub21hbHkuZmluZEZpcnN0KHsgd2hlcmU6IHsgY29kZTogJ0xPV19DT1ZFUkFHRScsIGRldGFpbHM6IHsgY29udGFpbnM6IGMuZW52ZWxvcGVJZCB9ICwgcmVzb2x2ZWRBdDogbnVsbCB9IH0pO1xuICAgIGlmKGV4aXN0aW5nKSBjb250aW51ZTtcbiAgICAvLyBjcmVhdGUgYW5vbWFseSArIGF1ZGl0IGxvZyAoU2xhY2sgbm90aWZpY2F0aW9ucyByZW1vdmVkKVxuICAgIGF3YWl0IHByaXNtYS5hbm9tYWx5LmNyZWF0ZSh7IGRhdGE6IHsgbGV2ZWw6ICd3YXJuaW5nJywgY29kZTogJ0xPV19DT1ZFUkFHRScsIGRldGFpbHM6IGBFbnZlbG9wcGUgJHtjLm5hbWV9ICgke2MuZW52ZWxvcGVJZH0pIGNvdXZlcnR1cmUgZmFpYmxlOiAke2MubW9udGhzQ292ZXJhZ2V9IG1vaXNgIH0gfSk7XG4gICAgYXdhaXQgcHJpc21hLmF1ZGl0TG9nLmNyZWF0ZSh7IGRhdGE6IHsgYWN0aW9uOiAnYW5vbWFseS5jcmVhdGUnLCBtZXRhSnNvbjogSlNPTi5zdHJpbmdpZnkoeyBlbnZlbG9wZUlkOiBjLmVudmVsb3BlSWQsIG5hbWU6IGMubmFtZSwgbW9udGhzQ292ZXJhZ2U6IGMubW9udGhzQ292ZXJhZ2UgfSkgfSB9KTtcbiAgICBjcmVhdGVkKys7XG4gIH1cbiAgcmV0dXJuIHsgb2s6dHJ1ZSwgY3JlYXRlZCB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nRW52ZWxvcGVSZXN0b3JlKGlucHV0OntpZDpzdHJpbmcsIHVzZXI/OnN0cmluZ30pe1xuICBhd2FpdCByZXF1aXJlUm9sZShbXCJtYW5hZ2VyXCJdKTtcbiAgY29uc3QgeyBpZCwgdXNlciB9ID0gaW5wdXQ7XG4gIGNvbnN0IGVudiA9IGF3YWl0IHByaXNtYS5lbnZlbG9wZS5maW5kVW5pcXVlKHsgd2hlcmU6eyBpZCB9IH0pO1xuICBpZighZW52KSB0aHJvdyBuZXcgRXJyb3IoXCJFbnZlbG9wcGUgaW50cm91dmFibGVcIik7XG4gIGF3YWl0IHByaXNtYS5hbm9tYWx5LmNyZWF0ZSh7IGRhdGE6eyBsZXZlbDonaW5mbycsIGNvZGU6J0VOVkVMT1BFX1JFU1RPUkVEJywgZGV0YWlsczogYEVudmVsb3BlICR7ZW52Lm5hbWV9ICgke2lkfSkgcmVzdG9yZWQgYnkgJHt1c2VyID8/ICd1bmtub3duJ31gIH0gfSk7XG4gIHJldHVybiB7IG9rOnRydWUgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9uYm9hcmRpbmdSZXZlbnVlKCl7XG4gIGF3YWl0IHJlcXVpcmVSb2xlKFtcIm9wZXJhdG9yXCIsXCJtYW5hZ2VyXCIsXCJhdWRpdG9yXCJdKTtcbiAgLy8gcmVhZCBsYXN0IGF1ZGl0TG9nIGVudHJ5IGZvciBzZXRPbmJvYXJkaW5nUmV2ZW51ZVxuICBjb25zdCByb3cgPSBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuZmluZEZpcnN0KHsgd2hlcmU6IHsgYWN0aW9uOiAnc2V0T25ib2FyZGluZ1JldmVudWUnIH0sIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSB9KTtcbiAgaWYoIXJvdykgcmV0dXJuIHsgYW1vdW50OiBudWxsIH07XG4gIHRyeXsgY29uc3QgbWV0YSA9IEpTT04ucGFyc2Uocm93Lm1ldGFKc29uIHx8ICd7fScpOyByZXR1cm4geyBhbW91bnQ6IE51bWJlcihtZXRhLmFtb3VudCkgfHwgbnVsbCwgYXBwbGllZDogbWV0YS5hcHBsaWVkIHx8IDAsIHVzZXI6IG1ldGEudXNlciA/PyBudWxsLCBhdDogcm93LmNyZWF0ZWRBdCB9OyB9XG4gIGNhdGNoKGUpeyByZXR1cm4geyBhbW91bnQ6IG51bGwgfTsgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVJbXByZXZ1c0VudmVsb3BlKCl7XG4gIGNvbnN0IG5hbWVDYW5kaWRhdGVzID0gWydpbXByZXZ1cycsJ2ltcHLDqXZ1JywnaW1wcmV2dScsJ2J1ZmZlcicsJ3Jlc2VydmUnXTtcbiAgLy8gU1FMaXRlIGRvZXMgbm90IHN1cHBvcnQgYG1vZGU6ICdpbnNlbnNpdGl2ZSdgIGluIGNvbnRhaW5zOyBmYWxsYmFjayB0byBzaW1wbGUgY29udGFpbnNcbiAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBwcmlzbWEuZW52ZWxvcGUuZmluZEZpcnN0KHsgd2hlcmU6IHsgT1I6IG5hbWVDYW5kaWRhdGVzLm1hcChuPT4oeyBuYW1lOiB7IGNvbnRhaW5zOiBuIH0gfSkpIH0gfSk7XG4gIGlmKGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gIHJldHVybiBhd2FpdCBwcmlzbWEuZW52ZWxvcGUuY3JlYXRlKHsgZGF0YTogeyBuYW1lOiAnSW1wcsOpdnVzJywgZW1vamk6ICfwn6ewJywgcHJvdGVjdGVkOiBmYWxzZSwgYWN0aXZlOnRydWUsIGJ1ZGdldFRhcmdldDogbnVsbCB9IH0pO1xufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsInJlcXVpcmVSb2xlIiwiVXBkYXRlRGlzdHJpYnV0aW9uUnVsZVNjaGVtYSIsIlVwc2VydEVudmVsb3BlU2NoZW1hIiwiVG9nZ2xlRW52ZWxvcGVBY3RpdmVTY2hlbWEiLCJUb2dnbGVFbnZlbG9wZVByb3RlY3RlZFNjaGVtYSIsIlVwc2VydFNlcnZpY2VTY2hlbWEiLCJUb2dnbGVTZXJ2aWNlU2NoZW1hIiwiZ2V0QWN0aXZlRGlzdHJpYnV0aW9uUnVsZSIsIl9nZXQiLCJ1cGRhdGVEaXN0cmlidXRpb25SdWxlIiwiaXRlbXMiLCJwYXJzZWQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiRXJyb3IiLCJlcnJvciIsImVycm9ycyIsIm1hcCIsImUiLCJtZXNzYWdlIiwiam9pbiIsImlkcyIsImRhdGEiLCJpIiwiZW52ZWxvcGVJZCIsImVudnMiLCJlbnZlbG9wZSIsImZpbmRNYW55Iiwid2hlcmUiLCJpZCIsImluIiwibGVuZ3RoIiwic29tZSIsImFjdGl2ZSIsIm5vdyIsIkRhdGUiLCJkaXN0cmlidXRpb25SdWxlIiwidXBkYXRlTWFueSIsInN0YXJ0c0F0IiwibHRlIiwiT1IiLCJlbmRzQXQiLCJndCIsInJ1bGUiLCJjcmVhdGUiLCJkaXN0cmlidXRpb25SdWxlSXRlbSIsImNyZWF0ZU1hbnkiLCJydWxlSWQiLCJwZXJjZW50IiwibGlzdEVudmVsb3BlcyIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJsaXN0UmVjdXJyaW5nQ2hhcmdlcyIsInJlY3VycmluZ0NoYXJnZSIsInVwc2VydFJlY3VycmluZ0NoYXJnZSIsImlucHV0IiwicCIsIm5hbWUiLCJhbW91bnQiLCJmcmVxdWVuY3kiLCJ1cGRhdGUiLCJkZWxldGVSZWN1cnJpbmdDaGFyZ2UiLCJkZWxldGUiLCJsaXN0U2VydmljZXMiLCJzZXJ2aWNlIiwiZ2V0QWN0aXZlUnVsZSIsInIiLCJlbnZlbG9wZU5hbWUiLCJsaXN0UnVsZXNIaXN0b3J5IiwicnMiLCJpbmNsdWRlIiwidXBzZXJ0RW52ZWxvcGUiLCJlbW9qaSIsInByb3RlY3RlZCIsImJ1ZGdldFRhcmdldCIsInRvZ2dsZUVudmVsb3BlQWN0aXZlIiwidG9nZ2xlRW52ZWxvcGVQcm90ZWN0ZWQiLCJ1cHNlcnRTZXJ2aWNlIiwidG9nZ2xlU2VydmljZSIsImRlbGV0ZVNlcnZpY2UiLCJleGlzdHMiLCJmaW5kVW5pcXVlIiwiYXVkaXRMb2ciLCJhY3Rpb24iLCJtZXRhSnNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRlbGV0ZUVudmVsb3BlIiwiYWxsb2NDb3VudCIsInRyYW5zYWN0aW9uQWxsb2NhdGlvbiIsImNvdW50IiwicnVsZVJlZkNvdW50IiwiZGVhY3RpdmF0ZWQiLCJkZWxldGVkIiwiZm9yY2VEZWxldGVFbnZlbG9wZSIsImRlbGV0ZU1hbnkiLCJhbm9tYWx5IiwibGV2ZWwiLCJjb2RlIiwiZGV0YWlscyIsInJlY29tbWVuZFBlcmNlbnRhZ2VzIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJpbXByZXZ1c1BjdCIsImltcHJldnVzUGVyY2VudCIsImVuc3VyZUltcHJldnVzRW52ZWxvcGUiLCJyZWNzIiwicmVjTWFwIiwiTWFwIiwiZm9yRWFjaCIsIm1vbnRobHkiLCJNYXRoIiwicm91bmQiLCJzZXQiLCJnZXQiLCJpbXByZXZ1cyIsImZpbmQiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwidG90YWxSZXZlbnVlIiwiYWxsb2NhdGVkIiwicmVzdWx0cyIsImltcHJldnVzQW1vdW50IiwicHVzaCIsInRvRml4ZWQiLCJibG9ja2VkIiwiZmlsdGVyIiwiY2xhc3NpZmljYXRpb24iLCJiIiwiYnVkZ2V0QW10IiwicmVjQW10IiwiYW10IiwiZmxleCIsInJlbWFpbmluZyIsIm1heCIsIndlaWdodHMiLCJmIiwid2VpZ2h0U3VtIiwicmVkdWNlIiwicyIsInciLCJpZHgiLCJzdW1BbGxvY2F0ZWQiLCJkaWZmIiwic2V0T25ib2FyZGluZ1JldmVudWUiLCJyZWMiLCJ0eCIsIiR0cmFuc2FjdGlvbiIsImRlZmF1bHRQZXJjZW50IiwidXNlciIsImFwcGxpZWQiLCJyZWNvbW1lbmRhdGlvbnMiLCJwcm9wb3NlUGVyY2VudEFkanVzdG1lbnRzIiwibW9udGhzIiwic2luY2UiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInNlbGVjdCIsIm91dHMiLCJncm91cEJ5IiwiYnkiLCJ0cmFuc2FjdGlvbiIsImtpbmQiLCJhdCIsImd0ZSIsIl9zdW0iLCJ0b3RhbE91dCIsIm8iLCJvdXRNYXAiLCJvdXRWYWwiLCJvYnNlcnZlZFBjdCIsInN1Z2dlc3RlZCIsIm9ic2VydmVkUGVyY2VudCIsInN1Z2dlc3RlZFBlcmNlbnQiLCJjdXJyZW50RGVmYXVsdCIsInNvcnQiLCJhIiwiYXBwbHlTdWdnZXN0ZWRQZXJjZW50cyIsIml0IiwiY3JlYXRlTG93Q292ZXJhZ2VBbm9tYWxpZXMiLCJ0aHJlc2hvbGQiLCJ0aHJlc2hvbGRNb250aHMiLCJnZXRFbnZlbG9wZUNvdmVyYWdlQWxsIiwiY292cyIsImRheXNXaW5kb3ciLCJsb3ciLCJjIiwibW9udGhzQ292ZXJhZ2UiLCJJbmZpbml0eSIsImNyZWF0ZWQiLCJleGlzdGluZyIsImZpbmRGaXJzdCIsImNvbnRhaW5zIiwicmVzb2x2ZWRBdCIsImxvZ0VudmVsb3BlUmVzdG9yZSIsImVudiIsImdldE9uYm9hcmRpbmdSZXZlbnVlIiwicm93IiwibWV0YSIsInBhcnNlIiwibmFtZUNhbmRpZGF0ZXMiLCJuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./src/server/actions/settings.ts\n");

/***/ }),

/***/ "(action-browser)/./src/server/queries/rules.ts":
/*!*************************************!*\
  !*** ./src/server/queries/rules.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeProposal: () => (/* binding */ computeProposal),\n/* harmony export */   getActiveDistributionRule: () => (/* binding */ getActiveDistributionRule)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(action-browser)/./src/lib/prisma.ts\");\n\nasync function getActiveDistributionRule() {\n    const now = new Date();\n    return _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.distributionRule.findFirst({\n        where: {\n            startsAt: {\n                lte: now\n            },\n            OR: [\n                {\n                    endsAt: null\n                },\n                {\n                    endsAt: {\n                        gt: now\n                    }\n                }\n            ]\n        },\n        include: {\n            items: {\n                include: {\n                    envelope: true\n                }\n            }\n        },\n        orderBy: {\n            startsAt: \"desc\"\n        }\n    });\n}\nfunction computeProposal(onHand, items) {\n    const res = items.map((i)=>({\n            envelopeId: i.envelopeId,\n            name: i.envelopeName,\n            percent: i.percent,\n            suggestedAmount: Math.floor(onHand * i.percent / 100)\n        }));\n    const sum = res.reduce((s, r)=>s + r.suggestedAmount, 0);\n    let diff = onHand - sum, idx = 0;\n    while(diff > 0 && res.length){\n        res[idx % res.length].suggestedAmount++;\n        idx++;\n        diff--;\n    }\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9zZXJ2ZXIvcXVlcmllcy9ydWxlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDL0IsZUFBZUM7SUFDcEIsTUFBTUMsTUFBSSxJQUFJQztJQUNkLE9BQU9ILCtDQUFNQSxDQUFDSSxnQkFBZ0IsQ0FBQ0MsU0FBUyxDQUFDO1FBQUVDLE9BQU07WUFBRUMsVUFBUztnQkFBQ0MsS0FBSU47WUFBRztZQUFHTyxJQUFHO2dCQUFDO29CQUFDQyxRQUFPO2dCQUFJO2dCQUFFO29CQUFDQSxRQUFPO3dCQUFDQyxJQUFHVDtvQkFBRztnQkFBQzthQUFFO1FBQUM7UUFBR1UsU0FBUTtZQUFFQyxPQUFNO2dCQUFFRCxTQUFRO29CQUFFRSxVQUFTO2dCQUFLO1lBQUU7UUFBRTtRQUFHQyxTQUFRO1lBQUVSLFVBQVM7UUFBTztJQUFFO0FBQzlMO0FBQ08sU0FBU1MsZ0JBQWdCQyxNQUFhLEVBQUVKLEtBQThEO0lBQzNHLE1BQU1LLE1BQUlMLE1BQU1NLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBSTtZQUFFQyxZQUFXRCxFQUFFQyxVQUFVO1lBQUVDLE1BQUtGLEVBQUVHLFlBQVk7WUFBRUMsU0FBUUosRUFBRUksT0FBTztZQUFFQyxpQkFBaUJDLEtBQUtDLEtBQUssQ0FBQ1YsU0FBT0csRUFBRUksT0FBTyxHQUFDO1FBQUs7SUFDN0ksTUFBTUksTUFBSVYsSUFBSVcsTUFBTSxDQUFDLENBQUNDLEdBQUVDLElBQUlELElBQUVDLEVBQUVOLGVBQWUsRUFBQztJQUFJLElBQUlPLE9BQUtmLFNBQU9XLEtBQUtLLE1BQUk7SUFDN0UsTUFBTUQsT0FBSyxLQUFLZCxJQUFJZ0IsTUFBTSxDQUFDO1FBQUVoQixHQUFHLENBQUNlLE1BQUlmLElBQUlnQixNQUFNLENBQUMsQ0FBQ1QsZUFBZTtRQUFJUTtRQUFPRDtJQUFRO0lBQ25GLE9BQU9kO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQkMyNDFcXE11c2ljXFxmaW5hbmNlLWFwcC12MS1tYWluXFxmaW5hbmNlLWFwcC12MS1tYWluXFxzcmNcXHNlcnZlclxccXVlcmllc1xccnVsZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZURpc3RyaWJ1dGlvblJ1bGUoKXtcbiAgY29uc3Qgbm93PW5ldyBEYXRlKCk7XG4gIHJldHVybiBwcmlzbWEuZGlzdHJpYnV0aW9uUnVsZS5maW5kRmlyc3QoeyB3aGVyZTp7IHN0YXJ0c0F0OntsdGU6bm93fSwgT1I6W3tlbmRzQXQ6bnVsbH0se2VuZHNBdDp7Z3Q6bm93fX1dIH0sIGluY2x1ZGU6eyBpdGVtczp7IGluY2x1ZGU6eyBlbnZlbG9wZTp0cnVlIH0gfSB9LCBvcmRlckJ5Onsgc3RhcnRzQXQ6XCJkZXNjXCIgfSB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUHJvcG9zYWwob25IYW5kOm51bWJlciwgaXRlbXM6e2VudmVsb3BlSWQ6c3RyaW5nO3BlcmNlbnQ6bnVtYmVyO2VudmVsb3BlTmFtZTpzdHJpbmd9W10pe1xuICBjb25zdCByZXM9aXRlbXMubWFwKGk9Pih7IGVudmVsb3BlSWQ6aS5lbnZlbG9wZUlkLCBuYW1lOmkuZW52ZWxvcGVOYW1lLCBwZXJjZW50OmkucGVyY2VudCwgc3VnZ2VzdGVkQW1vdW50OiBNYXRoLmZsb29yKG9uSGFuZCppLnBlcmNlbnQvMTAwKSB9KSk7XG4gIGNvbnN0IHN1bT1yZXMucmVkdWNlKChzLHIpPT5zK3Iuc3VnZ2VzdGVkQW1vdW50LDApOyBsZXQgZGlmZj1vbkhhbmQtc3VtLCBpZHg9MDtcbiAgd2hpbGUoZGlmZj4wICYmIHJlcy5sZW5ndGgpeyByZXNbaWR4JXJlcy5sZW5ndGhdLnN1Z2dlc3RlZEFtb3VudCsrOyBpZHgrKzsgZGlmZi0tOyB9XG4gIHJldHVybiByZXM7XG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwiZ2V0QWN0aXZlRGlzdHJpYnV0aW9uUnVsZSIsIm5vdyIsIkRhdGUiLCJkaXN0cmlidXRpb25SdWxlIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJzdGFydHNBdCIsImx0ZSIsIk9SIiwiZW5kc0F0IiwiZ3QiLCJpbmNsdWRlIiwiaXRlbXMiLCJlbnZlbG9wZSIsIm9yZGVyQnkiLCJjb21wdXRlUHJvcG9zYWwiLCJvbkhhbmQiLCJyZXMiLCJtYXAiLCJpIiwiZW52ZWxvcGVJZCIsIm5hbWUiLCJlbnZlbG9wZU5hbWUiLCJwZXJjZW50Iiwic3VnZ2VzdGVkQW1vdW50IiwiTWF0aCIsImZsb29yIiwic3VtIiwicmVkdWNlIiwicyIsInIiLCJkaWZmIiwiaWR4IiwibGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./src/server/queries/rules.ts\n");

/***/ }),

/***/ "(action-browser)/./src/server/validators/settings.ts":
/*!*******************************************!*\
  !*** ./src/server/validators/settings.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToggleEnvelopeActiveSchema: () => (/* binding */ ToggleEnvelopeActiveSchema),\n/* harmony export */   ToggleEnvelopeProtectedSchema: () => (/* binding */ ToggleEnvelopeProtectedSchema),\n/* harmony export */   ToggleServiceSchema: () => (/* binding */ ToggleServiceSchema),\n/* harmony export */   UpdateDistributionRuleSchema: () => (/* binding */ UpdateDistributionRuleSchema),\n/* harmony export */   UpsertEnvelopeSchema: () => (/* binding */ UpsertEnvelopeSchema),\n/* harmony export */   UpsertServiceSchema: () => (/* binding */ UpsertServiceSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(action-browser)/./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst UpdateDistributionRuleSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    items: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        envelopeId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        percent: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().int().min(0).max(100)\n    })).min(1)\n}).refine((v)=>v.items.reduce((s, i)=>s + i.percent, 0) === 100, \"La somme des pourcentages doit √™tre = 100\");\nconst UpsertEnvelopeSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2),\n    emoji: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(8).optional(),\n    protected: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n    active: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n    budgetTarget: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().int().min(0)\n});\nconst ToggleEnvelopeActiveSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    active: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n});\nconst ToggleEnvelopeProtectedSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    protected: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n});\nconst UpsertServiceSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(2),\n    active: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nconst ToggleServiceSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n    active: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9zZXJ2ZXIvdmFsaWRhdG9ycy9zZXR0aW5ncy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdCO0FBQ2pCLE1BQU1DLCtCQUErQkQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUFFQyxPQUFPSCxrQ0FBQ0EsQ0FBQ0ksS0FBSyxDQUFDSixrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO1FBQUVHLFlBQVdMLGtDQUFDQSxDQUFDTSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztRQUFJQyxTQUFRUixrQ0FBQ0EsQ0FBQ1MsTUFBTSxHQUFHQyxHQUFHLEdBQUdILEdBQUcsQ0FBQyxHQUFHSSxHQUFHLENBQUM7SUFBSyxJQUFJSixHQUFHLENBQUM7QUFBRyxHQUFHSyxNQUFNLENBQUNDLENBQUFBLElBQUlBLEVBQUVWLEtBQUssQ0FBQ1csTUFBTSxDQUFDLENBQUNDLEdBQUVDLElBQUlELElBQUVDLEVBQUVSLE9BQU8sRUFBQyxPQUFLLEtBQUssNkNBQTZDO0FBRW5RLE1BQU1TLHVCQUF1QmpCLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFBRWdCLElBQUdsQixrQ0FBQ0EsQ0FBQ00sTUFBTSxHQUFHYSxRQUFRO0lBQUlDLE1BQUtwQixrQ0FBQ0EsQ0FBQ00sTUFBTSxHQUFHQyxHQUFHLENBQUM7SUFBSWMsT0FBTXJCLGtDQUFDQSxDQUFDTSxNQUFNLEdBQUdLLEdBQUcsQ0FBQyxHQUFHUSxRQUFRO0lBQUlHLFdBQVV0QixrQ0FBQ0EsQ0FBQ3VCLE9BQU8sR0FBR0osUUFBUTtJQUFJSyxRQUFPeEIsa0NBQUNBLENBQUN1QixPQUFPLEdBQUdKLFFBQVE7SUFBSU0sY0FBY3pCLGtDQUFDQSxDQUFDUyxNQUFNLEdBQUdDLEdBQUcsR0FBR0gsR0FBRyxDQUFDO0FBQUcsR0FBRztBQUN4TyxNQUFNbUIsNkJBQTZCMUIsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUFFZ0IsSUFBR2xCLGtDQUFDQSxDQUFDTSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztJQUFJaUIsUUFBT3hCLGtDQUFDQSxDQUFDdUIsT0FBTztBQUFHLEdBQUc7QUFDMUYsTUFBTUksZ0NBQWdDM0Isa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUFFZ0IsSUFBR2xCLGtDQUFDQSxDQUFDTSxNQUFNLEdBQUdDLEdBQUcsQ0FBQztJQUFJZSxXQUFVdEIsa0NBQUNBLENBQUN1QixPQUFPO0FBQUcsR0FBRztBQUVoRyxNQUFNSyxzQkFBc0I1QixrQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQUVnQixJQUFHbEIsa0NBQUNBLENBQUNNLE1BQU0sR0FBR2EsUUFBUTtJQUFJQyxNQUFLcEIsa0NBQUNBLENBQUNNLE1BQU0sR0FBR0MsR0FBRyxDQUFDO0lBQUlpQixRQUFPeEIsa0NBQUNBLENBQUN1QixPQUFPLEdBQUdKLFFBQVE7QUFBRyxHQUFHO0FBQzFILE1BQU1VLHNCQUFzQjdCLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFBRWdCLElBQUdsQixrQ0FBQ0EsQ0FBQ00sTUFBTSxHQUFHQyxHQUFHLENBQUM7SUFBSWlCLFFBQU94QixrQ0FBQ0EsQ0FBQ3VCLE9BQU87QUFBRyxHQUFHIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJDMjQxXFxNdXNpY1xcZmluYW5jZS1hcHAtdjEtbWFpblxcZmluYW5jZS1hcHAtdjEtbWFpblxcc3JjXFxzZXJ2ZXJcXHZhbGlkYXRvcnNcXHNldHRpbmdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5leHBvcnQgY29uc3QgVXBkYXRlRGlzdHJpYnV0aW9uUnVsZVNjaGVtYSA9IHoub2JqZWN0KHsgaXRlbXM6IHouYXJyYXkoei5vYmplY3QoeyBlbnZlbG9wZUlkOnouc3RyaW5nKCkubWluKDEpLCBwZXJjZW50OnoubnVtYmVyKCkuaW50KCkubWluKDApLm1heCgxMDApIH0pKS5taW4oMSkgfSkucmVmaW5lKHY9PiB2Lml0ZW1zLnJlZHVjZSgocyxpKT0+cytpLnBlcmNlbnQsMCk9PT0xMDAsIFwiTGEgc29tbWUgZGVzIHBvdXJjZW50YWdlcyBkb2l0IMOqdHJlID0gMTAwXCIpO1xuZXhwb3J0IHR5cGUgVXBkYXRlRGlzdHJpYnV0aW9uUnVsZUlucHV0ID0gei5pbmZlcjx0eXBlb2YgVXBkYXRlRGlzdHJpYnV0aW9uUnVsZVNjaGVtYT47XG5leHBvcnQgY29uc3QgVXBzZXJ0RW52ZWxvcGVTY2hlbWEgPSB6Lm9iamVjdCh7IGlkOnouc3RyaW5nKCkub3B0aW9uYWwoKSwgbmFtZTp6LnN0cmluZygpLm1pbigyKSwgZW1vamk6ei5zdHJpbmcoKS5tYXgoOCkub3B0aW9uYWwoKSwgcHJvdGVjdGVkOnouYm9vbGVhbigpLm9wdGlvbmFsKCksIGFjdGl2ZTp6LmJvb2xlYW4oKS5vcHRpb25hbCgpLCBidWRnZXRUYXJnZXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApIH0pO1xuZXhwb3J0IGNvbnN0IFRvZ2dsZUVudmVsb3BlQWN0aXZlU2NoZW1hID0gei5vYmplY3QoeyBpZDp6LnN0cmluZygpLm1pbigxKSwgYWN0aXZlOnouYm9vbGVhbigpIH0pO1xuZXhwb3J0IGNvbnN0IFRvZ2dsZUVudmVsb3BlUHJvdGVjdGVkU2NoZW1hID0gei5vYmplY3QoeyBpZDp6LnN0cmluZygpLm1pbigxKSwgcHJvdGVjdGVkOnouYm9vbGVhbigpIH0pO1xuZXhwb3J0IHR5cGUgVXBzZXJ0RW52ZWxvcGVJbnB1dCA9IHouaW5mZXI8dHlwZW9mIFVwc2VydEVudmVsb3BlU2NoZW1hPjtcbmV4cG9ydCBjb25zdCBVcHNlcnRTZXJ2aWNlU2NoZW1hID0gei5vYmplY3QoeyBpZDp6LnN0cmluZygpLm9wdGlvbmFsKCksIG5hbWU6ei5zdHJpbmcoKS5taW4oMiksIGFjdGl2ZTp6LmJvb2xlYW4oKS5vcHRpb25hbCgpIH0pO1xuZXhwb3J0IGNvbnN0IFRvZ2dsZVNlcnZpY2VTY2hlbWEgPSB6Lm9iamVjdCh7IGlkOnouc3RyaW5nKCkubWluKDEpLCBhY3RpdmU6ei5ib29sZWFuKCkgfSk7XG4iXSwibmFtZXMiOlsieiIsIlVwZGF0ZURpc3RyaWJ1dGlvblJ1bGVTY2hlbWEiLCJvYmplY3QiLCJpdGVtcyIsImFycmF5IiwiZW52ZWxvcGVJZCIsInN0cmluZyIsIm1pbiIsInBlcmNlbnQiLCJudW1iZXIiLCJpbnQiLCJtYXgiLCJyZWZpbmUiLCJ2IiwicmVkdWNlIiwicyIsImkiLCJVcHNlcnRFbnZlbG9wZVNjaGVtYSIsImlkIiwib3B0aW9uYWwiLCJuYW1lIiwiZW1vamkiLCJwcm90ZWN0ZWQiLCJib29sZWFuIiwiYWN0aXZlIiwiYnVkZ2V0VGFyZ2V0IiwiVG9nZ2xlRW52ZWxvcGVBY3RpdmVTY2hlbWEiLCJUb2dnbGVFbnZlbG9wZVByb3RlY3RlZFNjaGVtYSIsIlVwc2VydFNlcnZpY2VTY2hlbWEiLCJUb2dnbGVTZXJ2aWNlU2NoZW1hIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./src/server/validators/settings.ts\n");

/***/ })

};
;